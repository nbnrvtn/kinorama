/* Kinorama - Inspired by ElegantFin Theme v25.12.31 by lscambo13 */

@import url("https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap");

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   CUSTOM PROPERTIES
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
:root {
  --elegantFinFooterText: "Kinorama v2.1.2";
  color-scheme: dark;

  /* ── Gradient points (overridden by Theme → black palette) ── */
  --darkerGradientPoint: hsla(0, 0%, 0%, 1);
  --darkerGradientPointAlpha: hsla(0, 0%, 0%, 0.75);
  --lighterGradientPoint: hsl(0, 0%, 0%);
  --lighterGradientPointAlpha: hsla(0, 0%, 7%, 0.85);
  --gradientPointAlpha: rgba(29, 38, 53, 0.3);

  /* ── Header / drawer (overridden by Theme) ── */
  --headerColor: hsla(0, 0%, 7%, 0.8);
  --drawerColor: hsla(0, 0%, 7%, 0.9);

  /* ── Borders (overridden by Theme) ── */
  --borderColor: hsla(0, 0%, 32%, 1);
  --darkerBorderColor: hsla(0, 0%, 22%, 1);
  --lighterBorderColor: hsla(0, 0%, 100%, 0.2);

  /* ── Selectors ── */
  --selectorBackgroundColor: rgba(22, 192, 84, 0.65);
  --selectorBackgroundColorAlpha: hsla(0, 0%, 27%, 0.5);
  --selectorInputBackgroundColor: hsla(0, 0%, 100%, 0.05);

  /* ── Accent / active ── */
  --activeColorAlpha: rgba(233, 109, 84, 0.3);
  --activeColor: #f47259;

  /* ── OSD seek bar ── */
  --osdSeekBarPlayedColor: var(--textColor);
  --osdSeekBarBufferedColorAlpha: rgba(128, 128, 128, 0.5);
  --osdSeekBarThumbColor: white;

  /* ── Table ── */
  --tableBodyColor: rgb(31 41 55 / 1);

  /* ── UI accents & buttons (Theme overrides mini-play) ── */
  --uiAccentColor: rgb(117, 111, 226);
  --btnMiniPlayColor: hsla(0, 0%, 0%, 0.8);
  --btnMiniPlayBorderColor: hsla(0, 0%, 30%, 0.8);
  --btnDeleteColor: #ff6f58;
  --btnDeleteBorderColor: rgb(217, 84, 84);
  --btnSubmitColor: #19be50;
  --btnSubmitBorderColor: #ff6f5800;
  --checkboxCheckedBgColor: #19be50;
  --highlightOutlineColor: #16c054;

  /* ── Composite borders ── */
  --borderWidth: 0.06em;
  --borderWidthDouble: 0.12em;
  --defaultBorder: var(--borderWidth) solid var(--borderColor);
  --defaultLighterBorder: var(--borderWidth) solid var(--lighterBorderColor);

  /* ── Text ── */
  --textColor: rgb(245, 245, 245);
  --dimTextColor: rgb(160, 160, 160);

  /* ── Gradients ── */
  --backgroundGradient: linear-gradient(
    0deg,
    var(--darkerGradientPoint) 35%,
    var(--lighterGradientPoint)
  );
  --cardBackgroundGradient: linear-gradient(
    0deg,
    var(--darkerGradientPoint),
    25%,
    var(--lighterGradientPoint)
  );
  --headerColorGradient: none; /* overridden by Theme */
  --headerColorGradientAlt: linear-gradient(
    180deg,
    rgba(30, 40, 54, 1),
    70%,
    transparent
  );
  --headerBlurMask: linear-gradient(180deg, white 50%, 85%, transparent);
  --cardFooterGradient: linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.5),
    40%,
    transparent
  );
  --topOSDGradient: linear-gradient(
    180deg,
    hsla(0, 0%, 0%, 0.8),
    45%,
    hsla(0, 0%, 0%, 0)
  );
  --bottomOSDGradient: linear-gradient(
    0deg,
    hsla(0, 0%, 0%, 0.8),
    45%,
    hsla(0, 0%, 0%, 0)
  );
  --hoverGradientV: linear-gradient(
    0deg,
    transparent,
    rgb(255 255 255 / 100%) 45%,
    rgb(255 255 255 / 100%) 55%,
    transparent
  );
  --hoverGradientH: linear-gradient(
    90deg,
    transparent,
    rgb(255 255 255 / 100%) 45%,
    rgb(255 255 255 / 100%) 55%,
    transparent
  );
  --itemBackdropMask: linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.8),
    75%,
    transparent
  );

  /* ── Radii ── */
  --largerRadius: 1.25em;
  --largeRadius: 1em;
  --smallRadius: 0.5em;
  --smallerRadius: 0.375em;
  --smallestRadius: 0.18em;

  /* ── Layout ── */
  --sidePadding: 3.3%;
  --itemColumnGap: 1em;
  --minEpisodeCardWidth: 26em;

  /* ── Blur ── */
  --blurSmallest: blur(2px);
  --blurDefault: blur(5px);
  --blurLarge: blur(10px);
  --blurLargest: blur(20px);

  /* ── Shadows ── */
  --shadow: 0.1em 0.1em 0.15em hsla(0, 0%, 0%, 0.3);

  /* ── Visibility toggles ── */
  --headerBlurLayerVisibility: "";
  --headerBackground: var(--headerColorGradient);
  --loginPageBgUrl: url("");
  --loginPageText: "KINORAMA";
  --overlayPlayButtonPosition: 50%;
  --iconPack: "Material Icons Round", Material Icons;
  --extraCardButtonsVisibility: block;
  --itemOriginalTitleVisibility: block;
  --libraryLabelVisibility: none;
  --clearLogoVisibility: block;
  --itemTitleVisibility: none;
  --miniOverlayButtonVisibility: block;
  --cardHoverEffect: none;
  --appBarHeight: 5em;
  --backdropTrimFromTop: 10%;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   BASE / RESET
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
html {
  font-family: "Inter", sans-serif;
  font-optical-sizing: auto;
  font-weight: 425;
  font-style: normal;
  -webkit-tap-highlight-color: transparent !important;
}

body {
  --primaryItemPageNegativeSpace: 14vh;
  --secondaryItemPageNegativeSpace: 60vh;
  --clearLogoBottomSpace: 11em;
}

.layout-desktop > body:has(> audio[src]) {
  --primaryItemPageNegativeSpace: calc(14vh + 5em);
  --secondaryItemPageNegativeSpace: calc(60vh + 5em);
}

.layout-mobile {
  --itemColumnGap: 0;
  --headerColorGradient: var(--headerColorGradientAlt);
  --blurLargest: blur(12px);
  --headerBlurMask: linear-gradient(180deg, white 60%, 90%, transparent);
}

.layout-mobile > body {
  --secondaryItemPageNegativeSpace: 45vh;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   ICON FONT
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
@font-face {
  font-family: "Material Icons Round";
  font-style: normal;
  font-weight: 100 700;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/materialsymbolsrounded/v267/sykg-zNym6YjUruM-QrEh7-nyTnjDwKNJ_190Fjzag.woff2)
    format("woff2");
}

.material-icons {
  font-family: var(--iconPack) !important;
  font-weight: normal;
  font-style: normal;
  display: inline-block;
  line-height: 1;
  text-transform: none;
  letter-spacing: normal;
  word-wrap: normal;
  white-space: nowrap;
  direction: ltr;
  vertical-align: middle;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: "liga";
  font-variation-settings: "FILL" 1, "wght" 400, "GRAD" 0, "opsz" 48;
}

.material-icons.info_outline:before {
  content: "\e88e";
  font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 48;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   FOOTER & SELECTION
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.dashboardFooter {
  font-family: "Noto Sans", serif;
  transition: transform 50ms;
}

#myPreferencesMenuPage > div:after,
.dashboardFooter::after {
  content: var(--elegantFinFooterText);
  font-size: 0.8em;
  color: var(--borderColor);
  display: inline-grid;
  width: 100%;
  width: -webkit-fill-available;
  justify-content: center;
  font-weight: 600;
}

::selection {
  background: var(--activeColorAlpha);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   CARDS – structure & images
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.cardImageIcon {
  color: var(--borderColor);
}

.cardPadder .cardImageIcon {
  color: var(--selectorBackgroundColorAlpha);
}

.card:focus .cardBox.visualCardBox,
.card:focus .cardBox:not(.visualCardBox) .cardScalable {
  border-color: white !important;
}

/* ── Radio / focus rings ── */
.mdl-radio__focus-circle,
.mdl-radio.show-focus
  .mdl-radio__button:focus
  + .mdl-radio__circles
  .mdl-radio__outer-circle,
.mdl-radio.show-focus
  .mdl-radio__button:focus
  + .mdl-radio__circles
  .mdl-radio__inner-circle {
  background: var(--uiAccentColor);
  color: var(--uiAccentColor);
}

.emby-button.show-focus:focus,
.paper-icon-button-light.show-focus:focus,
.emby-tabs .emby-button.show-focus:focus {
  background-color: var(--highlightOutlineColor) !important;
  color: #fff !important;
}

.emby-tabs .emby-button.show-focus:focus {
  outline: none !important;
}

/* ── Card layout helpers ── */
[dir="ltr"] .itemsContainer > .card > .cardBox {
  margin-left: auto;
  margin-right: auto;
}

.cardBox-bottompadded {
  margin-bottom: 0.5em !important;
}

@media (max-width: 50em) {
  .cardBox-bottompadded {
    margin-bottom: 0.25em !important;
  }
}

.vertical-wrap:not(.centered) {
  justify-content: flex-start !important;
}

/* ── Indicators ── */
.countIndicator,
.fullSyncIndicator,
.mediaSourceIndicator {
  background: rgba(0, 0, 0, 0.65);
  box-shadow: none;
  border: var(--defaultLighterBorder);
  font-size: 0.6em;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   CARDS – scalable box & visual card
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.cardScalable {
  border-radius: var(--smallerRadius);
  overflow: hidden !important;
  box-shadow: 0 0 0.25em 0 rgba(0, 0, 0, 0.4);
  transition: transform 1000ms;
}

@supports (aspect-ratio: 1 / 1) {
  #castCollapsible .cardScalable,
  #guestCastContent .cardScalable {
    aspect-ratio: 1 / 1;
    border-radius: 50%;
  }
}

#castCollapsible .cardContent.cardImageContainer,
#guestCastContent .cardContent.cardImageContainer {
  background-position-y: 33%;
}

.layout-mobile .cardScalable {
  border: var(--defaultBorder) !important;
}

.visualCardBox,
.paperList {
  background-color: var(--headerColor) !important;
  border-radius: var(--largeRadius) !important;
  border: var(--defaultBorder) !important;
  box-shadow: unset !important;
  overflow: hidden;
}

.layout-desktop .visualCardBox {
  border-width: var(--borderWidthDouble) !important;
}

.visualCardBox .cardScalable {
  border-width: 0 0 var(--borderWidth) 0 !important;
  border-radius: 0 !important;
  border-color: var(--darkerBorderColor) !important;
}

/* ── Card image ── */
.cardImageContainer {
  transition: transform 0.375s;
}

.card.squareCard[data-type="TvChannel"] .cardImageContainer.cardContent {
  background-color: rgba(255, 255, 255, 0.2);
}

.cardImageContainer > .cardDefaultText {
  font-size: 2em;
  padding-top: 1.5em;
  color: transparent;
  white-space: pre;
}

.cardImageContainer > .cardDefaultText::before {
  content: "?\A";
  color: var(--borderColor);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   CARDS – hover & overlay
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.card-hoverable:hover .cardScalable,
.card-hoverable:hover .visualCardBox {
  border-color: white !important;
}

.card-hoverable:hover .visualCardBox .cardScalable {
  border-color: var(--darkerBorderColor) !important;
}

.card-hoverable:hover .cardImageContainer {
  transform: scale(1);
}

.card-hoverable .itemSelectionPanel {
  transition: transform 0.125s;
}

.card-hoverable:hover .cardScalable,
.card-hoverable:hover .itemSelectionPanel {
  transform: scale(1.02);
}

.card-hoverable .cardScalable:active {
  transition: transform 20s;
  transform: scale(1);
}

.cardScalable:has(.cardOverlayButton-hover:hover) > .cardImageContainer {
  transform: scale(1);
}

/* ── Overlay container & shimmer ── */
.cardOverlayContainer {
  transition: 0.5s;
  background: rgba(255, 255, 255, 0.05);
}

.cardOverlayContainer:after {
  content: var(--cardHoverEffect);
  transition: 0.5s;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  transform: translateY(-50%) translateX(0);
  background: var(--hoverGradientV);
}

.card-hoverable:hover .cardOverlayContainer:after {
  transform: translateY(50%) translateX(0);
  opacity: 0;
}

.backdropCard.card-hoverable .cardOverlayContainer:after,
.overflowBackdropCard.card-hoverable .cardOverlayContainer:after {
  transform: translateY(0) translateX(-50%);
  background: var(--hoverGradientH);
}

.backdropCard.card-hoverable:hover .cardOverlayContainer:after,
.overflowBackdropCard.card-hoverable:hover .cardOverlayContainer:after {
  transform: translateY(0) translateX(50%);
  opacity: 0;
}

.cardBox:not(.visualCardBox) .cardPadder {
  background-color: var(--lighterGradientPoint);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   CARDS – overlay buttons (play / menu)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.cardOverlayContainer > .cardOverlayFab-primary {
  left: calc(var(--overlayPlayButtonPosition) - 1.5em);
  bottom: calc(var(--overlayPlayButtonPosition) - 1.5em);
}

.cardOverlayContainer > .cardOverlayFab-primary,
.listItemImageButton,
.layout-mobile
  .cardOverlayButton-br:not([data-action="menu"])
  > .cardOverlayButtonIcon {
  background-color: var(--btnMiniPlayColor) !important;
  color: white;
  border: var(--defaultLighterBorder);
  border-color: var(--btnMiniPlayBorderColor);
  font-size: 75%;
  box-shadow: var(--shadow);
  z-index: 2;
}

.cardOverlayContainer > .cardOverlayFab-primary:hover,
.listItemImageButton:hover {
  color: white;
}

/* ── hide menu button on desktop ── */
.cardOverlayButton-br .cardOverlayButton-hover[data-action="menu"],
.layout-desktop .listItemButton[data-action="menu"] {
  display: none;
}

/* ── desktop overlay buttons ── */
.layout-desktop .cardOverlayButton-br,
[dir="ltr"].layout-desktop .cardOverlayButton-br {
  bottom: 0.75em;
  right: 0.5em;
  display: var(--extraCardButtonsVisibility);
  z-index: 1;
}

.layout-desktop .cardOverlayButton-br button {
  color: #fff;
  text-shadow: var(--shadow);
}

/* ── mobile overlay buttons ── */
.layout-mobile .cardOverlayButton {
  padding: 1em;
  font-size: 60%;
}

.layout-mobile .cardOverlayButton-br,
[dir="ltr"] .layout-mobile .cardOverlayButton-br {
  bottom: 0.25em;
  right: 0.25em;
  display: var(--miniOverlayButtonVisibility);
}

.layout-mobile .portraitCard .cardOverlayButton-br:not([data-action="menu"]),
.layout-mobile .backdropCard .cardOverlayButton-br:not([data-action="menu"]) {
  display: none;
}

.layout-mobile
  .cardOverlayButton-br[data-action="menu"]
  > .cardOverlayButtonIcon {
  background-color: transparent !important;
  color: white;
  border: none;
  text-shadow: 1px 1px 0.1em black;
}

.cardOverlayContainer:has(> button:hover) {
  backdrop-filter: var(--blurDefault);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   LIST ITEMS – shared
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.listViewUserDataButtons {
  font-size: small;
}

.layout-mobile .listViewUserDataButtons {
  flex-direction: column;
  font-size: x-small;
}

/* ── large-image list (episode cards) ── */
@supports (display: revert) {
  .layout-desktop .vertical-list:has(.listItem-largeImage) {
    display: grid;
    grid-template-columns: repeat(
      auto-fill,
      minmax(min(var(--minEpisodeCardWidth), 100%), 1fr)
    );
    gap: var(--itemColumnGap);
  }

  .layout-desktop .listItem-largeImage {
    display: grid;
    margin-bottom: 0 !important;
  }

  .layout-desktop .listItem-largeImage > .listItem-content {
    display: grid;
    grid-template-columns: 1fr 1fr 2em;
    order: 1;
    height: 100%;
    align-items: start;
  }

  .layout-desktop .listItem-largeImage > .listItem-bottomoverview {
    order: 2;
  }

  .layout-desktop .listItem-largeImage .listItemImage-large {
    order: 1;
    grid-column: 1 / -1;
    height: max-content;
    min-height: 15em;
    width: 100%;
    aspect-ratio: 16 / 9;
    box-sizing: border-box;
  }

  .layout-desktop .listItem-largeImage .listItemBody {
    order: 2;
    grid-column: 1 / 3;
    padding: 1em 0.125em;
  }

  .layout-desktop .listItem-largeImage .listViewUserDataButtons {
    flex-direction: column;
    font-size: small;
    order: 2;
    grid-column: 3;
    align-self: center;
  }
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   CARD COUNT – responsive breakpoints
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.portraitCard {
  min-width: 5em;
}

.bannerCard {
  --cardCount: 2;
}

@media (min-width: 300em) {
  .portraitCard,
  .squareCard {
    --cardCount: 16;
  }
  .overflowPortraitCard,
  .overflowSquareCard {
    --cardCount: 15;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 12;
  }
  .backdropCard {
    --cardCount: 12;
  }
  .overflowBackdropCard {
    --cardCount: 11;
  }
}

@media (max-width: 300em) {
  .portraitCard,
  .squareCard {
    --cardCount: 15;
  }
  .overflowPortraitCard,
  .overflowSquareCard {
    --cardCount: 14;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 11;
  }
  .backdropCard {
    --cardCount: 11;
  }
  .overflowBackdropCard {
    --cardCount: 10;
  }
}

@media (max-width: 270em) {
  .portraitCard,
  .squareCard {
    --cardCount: 14;
  }
  .overflowPortraitCard,
  .overflowSquareCard {
    --cardCount: 13;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 10;
  }
  .backdropCard {
    --cardCount: 10;
  }
  .overflowBackdropCard {
    --cardCount: 9;
  }
}

@media (max-width: 240em) {
  .portraitCard,
  .squareCard {
    --cardCount: 13;
  }
  .overflowPortraitCard,
  .overflowSquareCard {
    --cardCount: 12;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 10;
  }
  .backdropCard {
    --cardCount: 10;
  }
  .overflowBackdropCard {
    --cardCount: 9;
  }
}

@media (max-width: 220em) {
  .portraitCard,
  .squareCard {
    --cardCount: 12;
  }
  .overflowPortraitCard,
  .overflowSquareCard {
    --cardCount: 11;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 9;
  }
  .backdropCard {
    --cardCount: 9;
  }
  .overflowBackdropCard {
    --cardCount: 8;
  }
}

@media (max-width: 200em) {
  .portraitCard,
  .squareCard {
    --cardCount: 11;
  }
  .overflowPortraitCard,
  .overflowSquareCard {
    --cardCount: 10;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 9;
  }
  .backdropCard {
    --cardCount: 9;
  }
  .overflowBackdropCard {
    --cardCount: 8;
  }
}

@media (max-width: 170em) {
  .portraitCard,
  .squareCard {
    --cardCount: 10;
  }
  .overflowPortraitCard,
  .overflowSquareCard {
    --cardCount: 9;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 9;
  }
  .backdropCard {
    --cardCount: 8;
  }
  .overflowBackdropCard {
    --cardCount: 7;
  }
}

@media (max-width: 140em) {
  .portraitCard,
  .squareCard {
    --cardCount: 9;
  }
  .overflowPortraitCard,
  .overflowSquareCard {
    --cardCount: 8;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 7;
  }
  .backdropCard {
    --cardCount: 7;
  }
  .overflowBackdropCard {
    --cardCount: 6;
  }
}

@media (max-width: 120em) {
  .portraitCard,
  .squareCard {
    --cardCount: 8;
  }
  .overflowPortraitCard,
  .overflowSquareCard {
    --cardCount: 7;
  }
  .layout-tv .portraitCard,
  .layout-tv .squareCard,
  .layout-tv .overflowPortraitCard,
  .layout-tv .overflowSquareCard {
    --cardCount: 6;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 6;
  }
  .backdropCard {
    --cardCount: 6;
  }
  .overflowBackdropCard {
    --cardCount: 5;
  }
  .layout-tv .backdropCard,
  .layout-tv .overflowBackdropCard {
    --cardCount: 4;
  }
}

@media (max-width: 100em) {
  .portraitCard,
  .squareCard,
  .overflowPortraitCard,
  .overflowSquareCard {
    --cardCount: 7;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 6;
  }
  .backdropCard {
    --cardCount: 6;
  }
  .overflowBackdropCard {
    --cardCount: 5;
  }
}

@media (max-width: 80em) {
  .portraitCard,
  .squareCard,
  .overflowPortraitCard,
  .overflowSquareCard {
    --cardCount: 6;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 5;
  }
  .overflowBackdropCard,
  .backdropCard {
    --cardCount: 4;
  }
}

@media (max-width: 62em) {
  .portraitCard,
  .squareCard,
  .overflowPortraitCard,
  .overflowSquareCard {
    --cardCount: 5;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 4;
  }
  .backdropCard,
  .overflowBackdropCard {
    --cardCount: 4;
  }
}

@media (max-width: 48.125em) {
  .portraitCard,
  .squareCard,
  .overflowPortraitCard,
  .overflowSquareCard {
    --cardCount: 4;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 3;
  }
  .backdropCard,
  .overflowBackdropCard {
    --cardCount: 3;
  }
}

@media (max-width: 30em) {
  .portraitCard,
  .squareCard,
  .overflowPortraitCard,
  .overflowSquareCard,
  .layout-mobile .portraitCard,
  .layout-mobile .squareCard,
  .layout-mobile .overflowPortraitCard,
  .layout-mobile .overflowSquareCard {
    --cardCount: 3;
  }
  .squareCard:has(.cardFooter) {
    --cardCount: 2;
  }
  .backdropCard,
  .overflowBackdropCard {
    --cardCount: 2;
  }
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   CARD – sizing & width calculation
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.layout-mobile .card {
  --sidePadding: 5%;
}

.card {
  --effectiveWidth: calc((99vw - (var(--sidePadding) * 2)));
  --cardWidth: calc(
    var(--effectiveWidth) / var(--cardCount) - var(--itemColumnGap)
  );
  width: var(--cardWidth) !important;
  padding: 0.375em;
  transition: width 0.5s;
  box-sizing: content-box;
}

@supports (aspect-ratio: 1 / 1) {
  .card {
    box-sizing: border-box;
  }
}

.layout-mobile .card {
  --cardWidth: calc(var(--effectiveWidth) / var(--cardCount));
}

@media (orientation: landscape) and (max-height: 40em) {
  .layout-mobile .card {
    --effectiveWidth: calc((65vw - (var(--sidePadding) * 2)));
  }
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   DETAIL PAGE – wrapper & primary container
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.detailPageWrapperContainer {
  padding-top: unset;
  margin-top: unset;
}

.layout-desktop .detailPageWrapperContainer {
  background: linear-gradient(
    180deg,
    transparent,
    17vh,
    var(--darkerGradientPointAlpha) 50vh
  );
  min-height: 46vh;
}

.layout-tv .detailPageWrapperContainer {
  padding-left: 30vw;
  background: linear-gradient(
    0deg,
    var(--darkerGradientPointAlpha) 70%,
    85%,
    transparent
  );
  min-height: 46vh;
}

.detailPagePrimaryContainer {
  align-content: space-between;
  align-items: center;
  justify-content: end;
  flex-direction: column;
  text-align: left;
}

.layout-mobile .detailPagePrimaryContainer.detailRibbon,
.layout-mobile .detailPagePrimaryContainer > .detailRibbon {
  padding: 0 var(--sidePadding);
}

.layout-desktop .detailPagePrimaryContainer {
  background: transparent;
}

.layout-desktop .detailPageSecondaryContainer {
  background-color: transparent;
}

.detailPagePrimaryContainer > .detailPagePrimaryContent,
[dir="ltr"] .detailPagePrimaryContainer > .detailRibbon,
[dir="ltr"] .detailPagePrimaryContainer.detailRibbon {
  padding-left: var(--sidePadding);
}

.layout-mobile .detailPagePrimaryContent {
  padding-left: var(--sidePadding) !important;
  padding-right: var(--sidePadding) !important;
}

.layout-desktop [dir="ltr"] .detailRibbon,
.layout-tv [dir="ltr"] .detailRibbon {
  flex-direction: column;
}

.detailPagePrimaryContainer > .detailPagePrimaryContent {
  padding-top: 0;
}

.detailPageSecondaryContainer {
  padding-top: 0 !important;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   HEADER – home button & page title
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.skinHeader-withBackground:not(.semiTransparent) .headerHomeButton {
  display: block;
}

.layout-mobile:has(#itemDetailPage:not(.hide)) .headerHomeButton {
  display: block;
}

.headerLeft h3.pageTitle:not(:empty) {
  height: auto !important;
  line-height: 1.35 !important;
}

.headerLeft .pageTitle {
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   SECTION TITLES & SCROLLERS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.paper-icon-button-light > .material-icons {
  font-size: 1.25em;
}

.verticalSection.emby-scroller-container > h2.sectionTitle.sectionTitle-cards {
  padding-top: 1.25em !important;
  margin: 0 0 -0.5em 0;
}

#itemDetailPage .emby-scroller-container,
#itemDetailPage .emby-scroller,
#itemDetailPage .scrollX {
  margin: 0 calc(-1 * var(--sidePadding));
  padding-left: calc(var(--sidePadding) - 0.375em);
}

.layout-desktop .emby-scroller-container,
.layout-desktop .emby-scroller,
.layout-desktop .scrollX {
  --itemColumnGap: 0.5em;
}

.emby-scroller,
.scrollX {
  padding-left: calc(var(--sidePadding) - 0.375em);
}

.sectionTabs .scrollX {
  padding-left: 0;
}

.itemsContainer:not(.editorsChoiceItemsContainer) {
  column-gap: var(--itemColumnGap);
}

.layout-desktop .sectionTitle,
.layout-tv .sectionTitle {
  font-size: 1.5rem !important;
}

.emby-scrollbuttons,
[dir="ltr"] .emby-scrollbuttons {
  padding-top: 1.25em;
}

.sectionTitleContainer + .emby-scrollbuttons {
  padding-top: 0;
}

.emby-scrollbuttons-button.paper-icon-button-light > .material-icons {
  font-size: 1.5em;
  place-content: center;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   DETAIL PAGE – ribbon, media-info, ratings
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.detailRibbon {
  background-color: transparent;
}

.mediaInfoItem {
  border-radius: var(--smallRadius);
  font-weight: 500;
  padding-top: 0;
  padding-bottom: 0;
}

.itemMiscInfo-primary {
  column-gap: 0.5em;
}

.mediaInfoOfficialRating {
  background: transparent !important;
  font-size: 0.75em;
  font-family: "Noto Sans", sans-serif;
  line-height: 1.5em;
  transform: translateY(-0.15em);
  font-weight: 600;
  border: var(--defaultBorder);
  color: var(--textColor);
}

.starIcon {
  background: linear-gradient(to right, #90cea1, #01b4e4);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-left: -0.125em;
  transform: translateY(-0.02em);
}

[dir="ltr"] .mediaInfoCriticRating {
  background-size: 30%;
  padding-left: 1.5em;
}

[dir="ltr"] .mediaInfoCriticRating::after {
  content: "%";
}

.detailRibbon:has(.portraitCard .folder) {
  min-height: 32vh;
  align-content: flex-end;
}

.layout-desktop .detailRibbon {
  height: 100%;
  min-height: 25vh;
  margin-top: unset;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   ANIMATIONS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
@keyframes animMoveDown {
  from {
    transform: translateY(-2em);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes animMoveDownSecondaryPage {
  from {
    transform: translateY(-2em);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 0.3;
  }
}

@keyframes animMoveUp {
  from {
    transform: translateY(-90%);
    opacity: 0;
  }
  to {
    transform: translateY(-100%);
    opacity: 1;
  }
}

@keyframes animScaleUp {
  from {
    transform: translateY(-2.5%);
    opacity: 0;
  }
  to {
    transform: translateY(0%);
    opacity: 1;
  }
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   BACKDROP & LOGO
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.itemBackdrop {
  display: block !important;
}

.layout-desktop .itemBackdrop {
  height: calc(100vh - 27vh - var(--primaryItemPageNegativeSpace));
}

.layout-mobile .itemBackdrop {
  margin-top: 0;
  position: sticky;
  top: -30%;
  -webkit-mask: var(--itemBackdropMask);
  mask: var(--itemBackdropMask);
  animation: animMoveDown 0.5s ease-out forwards;
  height: 45vh;
}

.layout-tv .itemBackdrop {
  height: 33vh;
}

#itemDetailPage:has(.subtitle) .itemBackdrop,
#itemDetailPage:has(.musicParentName) .itemBackdrop,
#itemDetailPage:has(.detailImageContainer .backdropCard) .itemBackdrop,
#itemDetailPage:has(.detailImageContainer .person) .itemBackdrop,
#itemDetailPage:has(.detailImageContainer .queue) .itemBackdrop,
#itemDetailPage:has(.detailImageContainer .book) .itemBackdrop,
#itemDetailPage:has(.detailImageContainer .live_tv) .itemBackdrop {
  height: calc(100vh - 27vh - var(--secondaryItemPageNegativeSpace));
}

#itemDetailPage:has(.detailImageContainer .cardPadder-square:not(.person))
  .itemBackdrop {
  height: calc(100vh - 20vh - var(--secondaryItemPageNegativeSpace));
}

/* ── Clear logo ── */
.detailLogo {
  display: var(--clearLogoVisibility);
  top: calc(
    100vh - var(--clearLogoBottomSpace) - var(--primaryItemPageNegativeSpace)
  );
  left: 0;
  width: 40%;
  transform: translateY(-100%);
  margin: auto 30%;
  height: 25vh;
  background-position: bottom;
}

.layout-mobile .detailLogo {
  display: var(--clearLogoVisibility);
  z-index: 1;
  position: absolute;
  left: 1em;
  top: 45vh;
  margin: auto 0%;
  width: calc(100vw - 2em);
  max-height: 17vh;
  animation: animMoveUp 1s ease-out forwards;
}

.layout-tv .detailLogo {
  display: var(--clearLogoVisibility);
  height: 20vh;
  top: 39vh;
  left: 30vw;
  width: 60vw;
  margin: auto 5vw;
}

#itemDetailPage:has(.subtitle) .detailLogo {
  top: calc(100vh - 6em - var(--secondaryItemPageNegativeSpace));
}

.layout-mobile #itemDetailPage:has(.subtitle) .detailLogo {
  top: calc(100vh - 11em - var(--secondaryItemPageNegativeSpace));
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   DETAIL IMAGE CONTAINER & POSTER CARD
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.layout-desktop .detailImageContainer .card {
  position: relative !important;
  width: 22vh !important;
  float: none;
  left: 0 !important;
  top: 0;
  right: 0;
  margin: auto;
  margin-bottom: 0;
  place-self: center;
}

.detailImageContainer .card.backdropCard {
  width: 40vh !important;
  max-width: 50vw;
}

.detailImageContainer .card {
  display: none;
}

.layout-tv .detailImageContainer .card {
  width: 25vw !important;
  display: block !important;
  position: fixed !important;
  top: 0;
  bottom: 0;
  margin: auto;
  left: var(--sidePadding);
  align-content: center;
  transform: none;
}

.layout-mobile .detailImageContainer .card {
  filter: drop-shadow(0 0 0.25rem rgba(0, 0, 0, 0.25));
}

.layout-mobile [dir="ltr"] .infoWrapper,
.layout-mobile .infoWrapper {
  padding-left: 0;
}

.infoWrapper {
  align-content: end;
  place-items: center;
  display: grid;
  text-align: center;
}

.layout-mobile .detailImageContainer {
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding-left: 0 !important;
}

.layout-mobile .detailImageContainer:has(.card:not(.portraitCard)) {
  height: 0;
}

.layout-mobile .detailImageContainer .card {
  position: inherit !important;
  margin-top: -150%;
  max-width: 60vw;
}

.layout-mobile .detailPageWrapperContainer {
  padding-top: 0;
  margin-top: 0.5em;
}

/* ── logo / title visibility rules ── */
#itemDetailPage:has(.detailImageContainer .backdropCard) .detailLogo,
#itemDetailPage:has(.detailImageContainer .album) .detailLogo,
#itemDetailPage:has(.detailImageContainer .person) .detailLogo {
  z-index: 2;
  display: none;
}

.detailLogo:not(.hide) ~ .detailPageWrapperContainer .nameContainer h1 {
  z-index: 2;
  display: var(--itemTitleVisibility);
}

.detailLogo.hide ~ .detailPageWrapperContainer .nameContainer h1 {
  display: block !important;
}

.detailImageContainer:has(.backdropCard, .squareCard) ~ .nameContainer h1,
.detailImageContainer:has(.cardImageIcon.person) ~ .nameContainer h1 {
  display: block !important;
}

/* ── album art square ── */
.detailImageContainer .card.backdropCard:has(.cardImageIcon.album) {
  max-width: 20vh;
}

.detailImageContainer
  .card.backdropCard:has(.cardImageIcon.album)
  .cardScalable {
  aspect-ratio: 1 / 1;
}

/* ── children / program guide panel ── */
#childrenContent:has(.listItem[data-type="Audio"]),
.programGuideSection {
  border: var(--defaultBorder);
  border-radius: var(--largeRadius);
  padding: 0.5em;
  background-color: var(--lighterGradientPointAlpha);
}

/* ── which card types are visible ── */
.detailImageContainer > .backdropCard,
.detailImageContainer > .squareCard,
.detailImageContainer > .card:has(.book),
.detailImageContainer > .card:has(.person),
.detailImageContainer > .card:has(.album),
.detailImageContainer > .card:has(.queue),
.detailImageContainer > .card:has(.live_tv) {
  display: block;
}

.detailImageContainer .squareCard:has(.person) {
  display: none;
}

/* ── secondary-page background tint ── */
#itemDetailPage:has(.subtitle),
#itemDetailPage:has(.musicParentName) {
  background: linear-gradient(
    180deg,
    var(--darkerGradientPointAlpha) 80%,
    transparent
  );
}

.layout-mobile
  #itemDetailPage:has(.detailImageContainer .backdropCard)
  .itemBackdrop,
.layout-mobile #itemDetailPage:has(.subtitle) .itemBackdrop,
.layout-mobile #itemDetailPage:has(.musicParentName) .itemBackdrop {
  animation: animMoveDownSecondaryPage 0.5s ease-out forwards;
}

.layout-mobile .cardImageIcon {
  font-size: 3.5em;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   HOME PAGE – library buttons & orientation
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
@media (max-width: 50em) {
  .homeLibraryButton {
    width: 45.6% !important;
  }
}

.homeLibraryButton {
  padding-inline-start: 0.25em;
  min-width: 15%;
}

@media (orientation: portrait) and (max-width: 40em) {
  [data-type="Movie"] .listItemImage,
  [data-type="Series"] .listItemImage {
    display: unset;
  }
  .dashboardActionsContainer {
    font-size: min(3.6vw, 98%);
  }
}

@media (orientation: portrait) {
  .layout-mobile .skinHeader.noHomeButtonHeader .headerSyncButton {
    display: none;
  }
  .layout-mobile .btnPlay.detailButton:not(.play-button) {
    flex: 0 0 100%;
    margin-right: 0 !important;
  }
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   TYPOGRAPHY
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
h2 {
  font-size: 1.25em;
}

h1,
h2 {
  font-weight: 600;
}

.tagline {
  font-size: 1.3em;
  font-weight: 400;
  margin: 0;
  font-style: italic;
  color: var(--textColor);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   BACKGROUNDS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
html,
.nowPlayingPlaylist,
.nowPlayingContextMenu,
.backgroundContainer:not(.withBackdrop),
.backgroundContainer:not(.backgroundContainer-transparent),
.backdropContainer {
  background-color: var(--darkerGradientPoint);
  background: var(--backgroundGradient);
}

.backdropImage {
  background-position-y: clamp(0%, calc(var(--backdropTrimFromTop) * 5), 100%);
}

.backdropImage:after,
.backdropImage:before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background: inherit;
}

.backdropImage:after {
  z-index: 0;
  height: 80vh;
  -webkit-mask: linear-gradient(180deg, rgba(0, 0, 0, 1) 75%, transparent);
  mask: linear-gradient(180deg, rgba(0, 0, 0, 1) 75%, transparent);
}

.layout-desktop .backdropImage:after {
  transition: opacity 0.25s;
}

.backdropImage:before {
  transform: scale(1.1);
  filter: var(--blurLargest);
}

.backgroundContainer.withBackdrop {
  opacity: 0.9;
  background: linear-gradient(
    0deg,
    var(--darkerGradientPoint),
    45%,
    rgba(17, 24, 39, 0.25)
  );
}

.layout-tv .backgroundContainer.withBackdrop {
  background: linear-gradient(
    0deg,
    var(--darkerGradientPoint),
    45%,
    rgba(17, 24, 39, 0.95)
  );
}

.layout-mobile .withSectionTabs .backgroundContainer.withBackdrop {
  opacity: 0.9;
}

.layout-mobile .backgroundContainer.withBackdrop {
  opacity: 1;
  background: var(--darkerGradientPoint);
}

.withSectionTabs .backgroundContainer.withBackdrop {
  background: var(--darkerGradientPoint);
}

.layout-desktop .withSectionTabs .backdropImage:after {
  opacity: 0;
}

.layout-mobile .withSectionTabs .backdropImage:after {
  display: none;
}

.backdropImageFadeIn {
  transform-origin: bottom center;
  animation: animScaleUp 0.5s ease-out forwards;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   APP FOOTER & LYRICS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.appfooter {
  background-color: var(--headerColor) !important;
  backdrop-filter: var(--blurLargest) !important;
}

.lyricPage {
  padding: 0 var(--sidePadding);
}

.lyricsLine {
  font-size: 2em;
  color: var(--textColor);
  text-align: center;
  align-self: center;
  font-weight: 600;
  transition: transform 0.125s;
}

.pastLyric,
.futureLyric {
  transform: scale(0.85);
  font-weight: 400;
  text-align: center;
}

.pastLyric {
  opacity: 0.45;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   BUTTONS – generic & active states
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.buttonActive {
  color: var(--uiAccentColor) !important;
}

#divRunningTasks progress {
  width: calc(100% - 7em);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   PROGRESS BARS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.listItemImage .itemProgressBar {
  position: absolute;
  margin: 8%;
}

.layout-mobile .listItemImage .itemProgressBar {
  position: absolute;
  justify-self: center;
  margin-bottom: 5%;
}

.itemProgressBar:not(.backgroundProgress):not(.playbackProgress):not(
    .transcodingProgress
  ) {
  backdrop-filter: var(--blurLarge);
  background-color: var(--osdSeekBarBufferedColorAlpha) !important;
  height: 0.2em;
  overflow: hidden;
  border-radius: var(--largeRadius);
}

.layout-mobile
  .itemProgressBar:not(
    .backgroundProgress,
    .playbackProgress,
    .transcodingProgress
  ) {
  width: calc(100% - 2em);
}

.layout-mobile
  .backdropCard
  .itemProgressBar:not(
    .backgroundProgress,
    .playbackProgress,
    .transcodingProgress
  ),
.layout-mobile
  .portraitCard
  .itemProgressBar:not(
    .backgroundProgress,
    .playbackProgress,
    .transcodingProgress
  ) {
  width: 100%;
  width: -webkit-fill-available;
}

.itemProgressBarForeground {
  border-radius: 0 var(--largeRadius) var(--largeRadius) 0;
  background-color: rgba(0, 255, 84, 0.55);
}

.backgroundProgress > div,
.backgroundProgress {
  background-color: var(--darkerGradientPoint);
}

.playbackProgress > div {
  background-color: var(--uiAccentColor);
}

::-moz-progress-bar {
  background: var(--uiAccentColor) !important;
  border-radius: var(--smallRadius) inherit var(--smallRadius) 0;
}

::-webkit-progress-value {
  background: var(--uiAccentColor) !important;
  border-radius: var(--smallRadius) inherit var(--smallRadius) 0;
}

progress,
::-webkit-progress-bar {
  background: var(--darkerGradientPoint) !important;
  border: var(--defaultBorder) !important;
  border-radius: var(--smallRadius);
  overflow: hidden;
}

progress + span {
  color: var(--uiAccentColor) !important;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   SPINNERS & SLIDERS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.mdl-spinner__circle {
  border-color: var(--textColor);
  border-style: inset;
  border-width: 0.25em;
}

.mdl-slider-container {
  height: 1em;
}

.mdl-slider {
  height: unset;
}

.mdl-slider-background-flex-container {
  padding: 0;
}

.mdl-slider-background-flex {
  border-radius: var(--smallRadius);
  height: 0.4em;
  margin-top: -0.2em;
  background: var(--osdSeekBarBufferedColorAlpha);
  transition: 0.2s linear;
}

.sliderContainer:active .mdl-slider-background-flex {
  height: 0.6em;
  margin-top: -0.3em;
}

.mdl-slider-background-lower {
  background-color: var(--osdSeekBarPlayedColor);
}

.mdl-slider-background-upper {
  background-color: var(--osdSeekBarBufferedColorAlpha);
}

.mdl-slider::-webkit-slider-thumb {
  background: var(--osdSeekBarThumbColor);
  width: 4px !important;
  height: 0.4em !important;
  border-radius: 0;
}

.sliderContainer:hover .mdl-slider::-webkit-slider-thumb {
  width: 0.2em !important;
  height: 0.8em !important;
  border-radius: 0.2em;
  transform: scale(1);
}

.sliderContainer:active .mdl-slider::-webkit-slider-thumb,
.mdl-slider.show-focus:focus::-webkit-slider-thumb {
  width: 0.2em !important;
  height: 0.8em !important;
  border-radius: 0.2em;
  transform: scale(1) scaleY(1.25);
}

.mdl-slider::-moz-range-thumb {
  background: var(--osdSeekBarThumbColor);
}

.sliderMarkerContainer {
  margin: 0 0.1em;
}

.sliderMarker.watched {
  background-color: var(--osdSeekBarPlayedColor);
}

.sliderMarker {
  height: 4px;
  border-radius: 2px;
}

.iconOsdProgressInner {
  background: var(--osdSeekBarPlayedColor);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   LINKS & DRAWER
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.selectLabel {
  max-height: 2em;
}

.button-link {
  color: rgb(200, 200, 200);
}

/* note: the bare .button-link:hover below is kept for touch devices;
   the fine-pointer version inside @media (hover:hover) handles desktop */
.button-link:hover {
  color: unset !important;
  text-decoration: none;
}

.button-link:active {
  color: rgb(243, 243, 243) !important;
  text-decoration: none;
}

.mainDrawer,
.drawer-open {
  background-color: var(--drawerColor);
  border-right: var(--defaultBorder);
  backdrop-filter: var(--blurLarge);
}

.mainDrawer-scrollContainer {
  padding-bottom: 5vh;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   BUTTONS – flat, fab, raised, play
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.btnHeaderSave.button-flat {
  color: var(--uiAccentColor) !important;
  gap: 0.3em;
  border-radius: var(--smallRadius);
}

.button-flat:hover {
  color: unset;
}

.button-flat:active {
  color: unset;
  background-color: rgba(255, 255, 255, 0.2);
}

.playstatebutton-icon-played {
  color: #19be50;
}

/* ── OSD play/pause sizing ── */
.videoOsdBottom.videoOsdBottom-maincontrols .btnPause {
  font-size: 2em;
}

.nowPlayingBar .playPauseButton {
  font-size: 2em;
}

.nowPlayingInfoContainer .btnPlayPause {
  font-size: 3em;
}

.osdControls {
  display: flex;
  flex-direction: column-reverse;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   EXTERNAL LINKS (IMDB, TMDB, etc.)
   Brand colours are set in the default state here;
   hover just brightens via filter (consolidated from bottom block).
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.itemExternalLinks {
  color: var(--textColor);
}

.itemExternalLinks.focuscontainer-x {
  color: transparent;
}

.itemExternalLinks.focuscontainer-x > .button-link {
  color: var(--textColor);
  background-color: var(--selectorBackgroundColor);
  padding: 0.125em 0.5em;
  border-radius: var(--smallerRadius);
  margin-bottom: 0.5em;
}

.layout-mobile
  .itemExternalLinks.focuscontainer-x
  > .button-link:hover:not(:active) {
  color: var(--textColor) !important;
}

/* ── default (resting) brand colours ── */
.layout-desktop
  .itemExternalLinks.focuscontainer-x
  > a[href*="themoviedb.org"] {
  background-color: rgb(26, 183, 216) !important;
  color: #000 !important;
}

.layout-desktop .itemExternalLinks.focuscontainer-x > a[href*="imdb.com"] {
  background-color: rgb(226, 182, 22) !important;
  color: #000 !important;
}

/* ── active (tap) states ── */
.itemExternalLinks.focuscontainer-x > a:active {
  background-color: var(--activeColor) !important;
  color: white !important;
}

.itemExternalLinks.focuscontainer-x > a[href*="themoviedb.org"]:active {
  background-color: rgb(26, 183, 216) !important;
  color: black !important;
}

.itemExternalLinks.focuscontainer-x > a[href*="imdb.com"]:active {
  background-color: rgb(226, 182, 22) !important;
  color: black !important;
}

.itemExternalLinks.focuscontainer-x > a[href*="thetvdb.com"]:active {
  background-color: rgb(108, 213, 145) !important;
  color: black !important;
}

.itemExternalLinks.focuscontainer-x > a[href*="trakt.tv"]:active {
  background-color: rgb(171, 58, 173) !important;
  color: var(--textColor) !important;
}

.itemExternalLinks.focuscontainer-x > a[href*="theaudiodb.com"]:active {
  background-color: rgb(99, 153, 204) !important;
  color: rgb(15, 22, 28) !important;
}

.itemExternalLinks.focuscontainer-x > a[href*="musicbrainz.org"]:active {
  background-color: rgb(186, 71, 143) !important;
  color: var(--textColor) !important;
}

/* ── hover states are in @media (hover: hover) below ── */

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   TAGS (hidden) — font props removed (display: none makes them moot)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.itemTags,
.itemTags > a {
  display: none;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   OVERVIEW / DESCRIPTION
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.detail-clamp-text {
  text-align: start;
  color: var(--dimTextColor);
  margin-top: 0;
  margin-bottom: 0;
}

.detail-clamp-text p {
  margin-top: 0.25em;
  margin-bottom: 0.25em;
}

.layout-desktop .detail-clamp-text {
  -webkit-line-clamp: 2;
}

.layout-mobile .detail-clamp-text {
  -webkit-line-clamp: 4;
}

.layout-tv .detail-clamp-text {
  -webkit-line-clamp: 10;
  transition: none;
}

/* ── expand/collapse toggle ── */
.overview-expand.emby-button {
  padding: 0;
  margin-top: 1.4em;
  margin-bottom: 1.4em;
  color: transparent;
}

.overview-expand.emby-button:after {
  content: "\e313";
  font-family: "Material Icons";
  background: var(--selectorBackgroundColor);
  border-radius: 50%;
  width: 1.5em;
  height: 1.5em;
  align-content: center;
  line-height: 1.6ch;
  transition: transform 0.5s;
  color: var(--textColor);
}

.overview.detail-clamp-text ~ .overview-controls .overview-expand:after {
  transform: rotateZ(0deg);
}

.overview:not(.detail-clamp-text) ~ .overview-controls .overview-expand:after {
  transform: rotateZ(180deg);
}

.overview-controls {
  height: 0;
}

.detailSectionContent:has(.itemExternalLinks.hide) .overview-controls {
  height: 1em;
}

#seriesAirTime {
  margin-top: 0.5em;
}

.itemMiscInfo {
  align-items: flex-end !important;
  justify-content: center;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   CHAPTER CARDS & INNER FOOTER
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.innerCardFooter,
.chapterCardImageContainer {
  width: 100%;
  box-sizing: border-box;
}

.innerCardFooter,
.chapterThumbTextContainer {
  background: var(--cardFooterGradient);
  text-shadow: 0.1em 0.1em 0 black;
  padding: 0 2em 1em 2em;
  align-content: end;
  display: grid;
  height: 100%;
}

.chapterCardImageContainer {
  background-size: 135%;
}

.chapterCardImageContainer + .innerCardFooter {
  padding: 0 1em 1em 1em;
  height: auto;
}

.layout-mobile .innerCardFooter {
  padding: 5em 1.5em 1.5em 1.5em;
}

.layout-mobile .chapterCardImageContainer + .innerCardFooter {
  padding: 0 0.5em 0.5em 0.5em;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   DIALOGS & MODALS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.centerMessage {
  width: unset;
}

.dialog {
  backdrop-filter: var(--blurDefault);
  background-color: var(--drawerColor);
  min-width: 11em;
}

[dir="ltr"] .emby-collapsible-button {
  padding-left: 1em;
}

.dialog:not(.dialog-fullscreen) {
  border-radius: var(--largeRadius) !important;
  border: var(--defaultBorder);
}

@media (max-width: 80em), (max-height: 45em) {
  .dialog.dialog-fixedSize,
  .dialog.dialog-fullscreen-lowres {
    border-radius: unset !important;
    border: unset;
  }
}

.dialogBackdropOpened {
  opacity: 0.66;
}

.subtitleEditor-dropZone,
.imageEditor-dropZone,
.lyricsEditor-dropZone {
  border-radius: var(--largeRadius);
}

.formDialogHeaderTitle {
  margin-inline-start: 0 !important;
  margin-inline-end: 0 !important;
  text-align: center;
  padding: 0 0.5em !important;
}

.formDialogFooter:not(.formDialogFooter-clear.formDialogFooter-flex)
  > .formDialogFooterItem {
  flex-basis: 6em;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   SELECTION PANEL & CHECKBOXES
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.collapseContent {
  background-color: unset !important;
  backdrop-filter: unset !important;
}

.selectionCommandsPanel {
  background: var(--lighterGradientPoint);
  border-bottom: var(--defaultBorder);
  backdrop-filter: var(--blurLarge);
}

.selectionCommandsPanel > h1 {
  font-size: large;
}

.itemSelectionPanel {
  border: unset;
  background-color: transparent;
}

.emby-checkbox:checked + span + .checkboxOutline {
  border-radius: var(--smallestRadius) !important;
  box-shadow: none;
  background: transparent;
  border-color: #fff0;
  border-style: solid;
  border-width: var(--borderWidthDouble);
  outline: none;
}

@supports (display: revert) {
  .emby-checkbox:checked + span + .checkboxOutline {
    outline: none;
  }
}

.checkboxOutline {
  top: unset;
  height: 1.3em;
  width: 1.3em;
  border-radius: var(--smallestRadius);
}

.itemSelectionPanel .material-icons.check:before {
  font-size: 4em;
  color: #ffffff;
  padding: 0.25em;
}

.cardText-first + .itemSelectionPanel > .checkboxContainer {
  height: calc(100% - 1.75em);
}

.overflowBackdropCard
  .cardText-first
  + .itemSelectionPanel
  > .checkboxContainer {
  height: calc(100% - 0);
}

.checkboxContainer
  .emby-checkbox:checked
  + span
  + .checkboxOutline.multiSelectCheckboxOutline {
  border-radius: var(--smallerRadius) !important;
}

#castCollapsible
  .checkboxContainer
  .emby-checkbox:checked
  + span
  + .checkboxOutline.multiSelectCheckboxOutline,
#guestCastContent
  .checkboxContainer
  .emby-checkbox:checked
  + span
  + .checkboxOutline.multiSelectCheckboxOutline {
  border-radius: 50% !important;
}

.cardPadder {
  text-align: center;
}

#castCollapsible .cardPadder .cardImageIcon,
#guestCastContent .cardPadder .cardImageIcon {
  display: none;
}

.cardText-secondary + .itemSelectionPanel > .checkboxContainer,
.cardText.cardTextCentered:not(.cardText-secondary, .cardText-first)
  + .itemSelectionPanel
  > .checkboxContainer {
  height: calc(100% - 3em);
}

.cardFooter + .itemSelectionPanel > .checkboxContainer,
.cardScalable + .itemSelectionPanel > .checkboxContainer {
  height: calc(100% - 0);
}

.checkboxOutline.multiSelectCheckboxOutline {
  border-radius: var(--largeRadius);
  border-width: 0;
  width: 100%;
  height: 100%;
}

.checkboxOutline:not(.multiSelectCheckboxOutline) .checkboxIcon {
  color: #261211;
  font-size: 0.7em;
  font-weight: 900;
}

.checkboxOutline:not(.multiSelectCheckboxOutline) {
  border: solid rgba(255, 255, 255, 0.5) var(--borderWidth);
  background-color: #fff0;
  transition: all 0.125s;
}

.emby-checkbox:checked
  + span
  + .checkboxOutline:not(.multiSelectCheckboxOutline) {
  box-shadow: none;
  background: var(--checkboxCheckedBgColor);
  border: var(--defaultLighterBorder);
}

/* focus outlines — base + @supports override */
.emby-checkbox:focus:not(:checked) + span + .checkboxOutline,
.emby-checkbox:focus + span + .checkboxOutline {
  border-color: var(--highlightOutlineColor) !important;
  outline: none;
}

@supports (display: revert) {
  .emby-checkbox:focus:not(:checked) + span + .checkboxOutline {
    outline: none;
    outline-offset: calc(-2.5 * var(--borderWidth));
  }
  .emby-checkbox:focus + span + .checkboxOutline {
    border-color: #fff0 !important;
    outline: none;
  }
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   CARD INDICATORS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.cardIndicators {
  align-items: center;
  top: 0.5em;
}

[dir="ltr"] .cardIndicators {
  right: 0.5em;
}

.layout-mobile .cardIndicators {
  top: 0.2em;
  right: 0.2em;
}

.indicator {
  border: solid rgb(124 124 124 / 50%) var(--borderWidth);
  border-radius: 100em;
}

.playedIndicator {
  background: rgba(24, 186, 78, 0.65);
  box-shadow: none;
  border: var(--defaultLighterBorder);
}

.videoIndicator {
  background: rgb(41 41 41);
  padding: 0.5em;
  transform: scale(0.85);
  border: var(--defaultLighterBorder);
  font-size: 0.75em;
}

.videoIndicator:has(.photo_album),
.videoIndicator:has(.folder) {
  background: peru;
}

.videoIndicator:has(.photo) {
  background: steelblue;
}

.videoIndicator:has(.videocam) {
  background: indianred;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   DEFAULT CARD BACKGROUND & ICON OVERRIDES
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.defaultCardBackground,
.cardScalable {
  background: var(--cardBackgroundGradient);
}

div[data-type="Book"] .play_arrow:before {
  content: "\f1c6";
  font-size: 85%;
}

div[data-type="Photo"] .play_arrow:before {
  content: "\e5d0";
}

div[data-type="PhotoAlbum"] .play_arrow:before {
  content: "\e8eb";
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   BUTTONS – raised / delete / dashboard
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.emby-button.block,
.button-alt,
.raised,
#btnDeleteImage,
.manageRecordingButton,
.dashboardActionsContainer > .emby-button {
  color: #000;
  border-radius: var(--smallerRadius);
  background: var(--btnDeleteColor);
  border: var(--defaultBorder);
  transition: all 0.125s;
}

.editItemMetadataForm > .metadataFormFields div:has(.formDialogFooterItem) {
  display: flex;
  justify-content: center;
}

.btnBrowse > .folder {
  margin-inline-end: 0.5em;
}

/* ── fab ── */
.fab {
  color: #fff;
  background: var(--lighterGradientPoint);
  border: var(--defaultBorder);
}

.fab:focus {
  background: var(--lighterGradientPoint) !important;
  filter: brightness(1.2);
}

.raised:focus {
  background: inherit;
  filter: brightness(1.2);
}

.raised:active,
.fab:active,
.emby-button:active {
  filter: brightness(1) !important;
  transform: none;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   DETAIL BUTTONS (play, favourites, etc.)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.detailButton {
  border: var(--defaultLighterBorder);
  padding: 0.5em 0.5em !important;
}

.detailButton-icon {
  font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 48;
}

.cardScalable .material-icons.check:before {
  font-variation-settings: "FILL" 1, "wght" 700, "GRAD" 0, "opsz" 20;
  transform: scale(1.25);
}

.emby-button[title="Favorite"] .material-icons.favorite:before {
  font-variation-settings: "FILL" 1, "wght" 400, "GRAD" 0, "opsz" 20;
}

.detailButton:not(.btnPlay) {
  color: var(--textColor);
  backdrop-filter: none;
  border-color: transparent;
  margin: 0.5em !important;
  border-radius: 50%;
  padding: 0.6em !important;
  background: transparent;
}

.layout-desktop .detailButton:not(.btnPlay):hover {
  color: #16c054;
  background: none;
}

.detailButton:active {
  color: black;
  background: var(--textColor);
}

/* ── play button ── */
.btnPlay.detailButton {
  background-color: var(--textColor);
  color: black;
  border-radius: 3em;
  border-color: var(--borderColor);
  height: 3em;
  min-width: 10em;
  margin-right: 0.5em !important;
  flex-direction: row;
}

.btnPlay:not(.formDialogFooterItem):not(.play-button):after {
  content: attr(title);
  padding: 0 1ch;
}

.btnPlay > .detailButton-content::after {
  padding: 0 1ch;
  place-content: center;
}

/* cleaned: removed all -webkit- / unset duplication */
.btnPlay > .detailButton-content {
  display: flex;
  align-items: unset;
  flex-direction: unset;
  align-content: unset;
  justify-content: flex-start;
}

/* ── "Read" label for books ── */
.mainDetailButtons:has(.detailButton[data-type="Book"])
  .btnPlay[title="Play"]:after {
  content: "Read";
}

.mainDetailButtons:has(.detailButton[data-type="Book"])
  .btnPlay
  .material-icons.play_arrow:before {
  content: "\f1c6";
  padding-inline-end: 1ch;
}

/* ── main detail buttons row ── */
.mainDetailButtons {
  justify-content: center;
  margin: 0;
}

.layout-mobile [dir="ltr"] .mainDetailButtons {
  flex-wrap: wrap;
  padding: 0 1.25em;
}

@media (min-width: 100em) {
  .mainDetailButtons {
    font-size: unset;
    margin: 0;
  }
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   LOCALNAVS & CONTROL GROUPS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.localnav > .emby-button {
  background: var(--lighterGradientPoint) !important;
  color: #fff;
  padding: 0.8em 0.8em;
}

div[data-role="controlgroup"] a.ui-btn-active {
  background: var(--selectorBackgroundColor) !important;
  color: #fff !important;
}

.guide-date-tab-button.emby-tab-button-active,
.guide-date-tab-button:focus {
  color: white;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   DELETE / SUBMIT / SHARED DIALOG BUTTONS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
#btnDeleteImage,
.button-delete,
.btnRevoke,
#btnShutdown {
  background: var(--btnDeleteColor);
  border: solid var(--btnDeleteBorderColor) var(--borderWidth);
}

.button-submit {
  background: var(--btnSubmitColor) !important;
  border: solid var(--btnSubmitBorderColor) var(--borderWidth) !important;
}

.collapseContent,
.formDialogFooter:not(.formDialogFooter-clear),
.formDialogHeader:not(.formDialogHeader-clear) {
  background-color: var(--headerColor);
  backdrop-filter: var(--blurDefault);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   PAPER LIST & SERVER INFO
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.paperList {
  padding: 0.4em;
}

.serverInfo {
  padding: 1em;
}

.serverInfo > :nth-child(1n) {
  flex: 1 0 30%;
}

.serverInfo > :nth-child(2n) {
  flex: 1 0 50%;
  text-align: end;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   LIST ITEMS – icons & rows
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.listItemIcon:not(.listItemIcon-transparent) {
  background-color: var(--lighterGradientPoint) !important;
}

.listItemIcon.notification_important {
  background-color: var(--btnDeleteColor) !important;
  border: solid var(--btnDeleteBorderColor) var(--borderWidth);
}

.listItemIcon.notifications:not(.listItemIcon-transparent),
.listItemIcon.schedule:not(.listItemIcon-transparent),
.listItemIcon.person:not(.listItemIcon-transparent),
.listItemIcon.live_tv:not(.listItemIcon-transparent) {
  background-color: rgb(41, 49, 83) !important;
  border: var(--defaultBorder);
}

.readOnlyContent {
  flex-direction: column !important;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   MATERIAL UI OVERRIDES
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.MuiAppBar-root {
  background: var(--headerColor);
  backdrop-filter: var(--blurDefault);
  border-bottom: var(--defaultBorder);
}

.MuiDrawer-paper {
  background: var(--drawerColor);
  backdrop-filter: var(--blurLarge);
  border-right: var(--defaultBorder);
  padding: 0.25em;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   LIST ITEMS – images, rows, audio tracks
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.listItemImage {
  border-radius: var(--smallRadius);
  margin-right: 0.75em !important;
  border: var(--defaultBorder);
}

[dir="ltr"]
  .listItem:not(
    .actionSheetMenuItem,
    .childrenItemsContainer .listItem,
    .activityLogListWidget .listItem
  ) {
  padding: 0.375em !important;
}

[dir="ltr"]
  .listItem:not(
    .actionSheetMenuItem,
    .childrenItemsContainer .listItem,
    .activityLogListWidget .listItem
  ):not(:last-child) {
  margin-bottom: 0.5em;
}

[dir="ltr"] .listItem:not(.actionSheetMenuItem)[data-type="Episode"] {
  padding: 0.375em;
  margin-bottom: 0.5em;
}

.layout-mobile #songsTab .listItem[data-type="Audio"],
.layout-mobile #playlist .listItem[data-type="Audio"] {
  margin: auto 1em;
}

.listItem[data-type="Audio"]:has(.playlistIndexIndicatorImage)
  .listItemBodyText {
  color: white;
  font-weight: 600;
}

.listItem[data-type="Audio"]:has(.playlistIndexIndicatorImage):not(:hover) {
  background-color: rgba(255, 255, 255, 0.07);
}

.listItem-largeImage .listItemBodyText:not(.secondary) {
  font-size: 1.17em;
  font-weight: 600;
  color: var(--textColor);
}

.listItemBodyText.secondary {
  color: var(--dimTextColor);
}

.listItemBody > .listItemBodyText:not(.secondary) {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  color: var(--textColor);
}

.listItem-overview {
  display: -webkit-box;
  -webkit-line-clamp: 4;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.listItem-bottomoverview,
[dir="ltr"]
  .listItem:not(.actionSheetMenuItem)[data-type="Episode"]
  .listItem-overview
  p {
  margin-top: 0.75em;
  margin-bottom: 0;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   LIST ITEMS – shape, hover, focus, active
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.listItem,
.navMenuOption {
  border-radius: 0.7em;
}

/* bare hover kept for touch; fine-pointer version in @media block */
.listItem:hover,
.navMenuOption:hover {
  background: unset;
  border-radius: 0.7em;
}

.listItem:focus {
  background: var(--highlightOutlineColor);
}

.listItem:active,
.navMenuOption:active {
  background: rgba(255, 255, 255, 0.125);
}

.listItem-border {
  border-color: transparent !important;
}

.listItem-border.emby-button.show-focus:focus {
  border-radius: var(--smallRadius);
}

.MuiListItem-root > a,
.MuiList-root > a,
.MuiListItem-root > div {
  border: solid transparent var(--borderWidth);
  border-radius: 0.7em;
  margin: 0.25 0.5em !important;
}

.Mui-selected {
  background-color: var(--activeColor) !important;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   ACTION SHEETS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.actionsheetDivider {
  height: 2px;
  background: rgb(255, 255, 255, 0.05);
}

.actionsheet-xlargeFont {
  line-height: normal;
}

.actionSheetContent {
  padding: 0.4em !important;
}

.actionSheetContent > h1 {
  font-size: unset;
}

[dir="ltr"] .actionsheetMenuItemIcon.check {
  margin: 0 0.45em 0 0.45em !important;
}

.actionSheetMenuItem:has(.listItemIcon.check) {
  background-color: var(--activeColor);
}

.actionSheetMenuItem:has(.listItemIcon.check) .listItemBodyText {
  color: white;
}

.actionSheetMenuItem:has(.listItemIcon.check) .listItemIcon.check {
  display: none;
}

.actionSheetMenuItem:has(.listItemIcon.check[style*="hidden"]) {
  background-color: transparent;
}

.actionSheetMenuItem:has(.listItemIcon.check[style*="hidden"]):active {
  background-color: rgba(255, 255, 255, 0.125);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   NAV MENU
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.navMenuOption {
  border-radius: var(--smallRadius) !important;
  margin: 0 1em !important;
}

[dir="ltr"] .navMenuOption {
  padding: 0.75em 1em !important;
  margin-bottom: unset;
}

#myPreferencesMenuPage .listItemIcon {
  margin-left: 0.5em;
  margin-right: 0.25em;
}

.navMenuOption-selected {
  background-color: var(--activeColor) !important;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   DETAIL SECTION – grid layout
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
#itemDetailPage .detailSection {
  display: grid;
  row-gap: 1em;
  column-gap: 3em;
  max-width: unset !important;
  grid-template-columns: 25% 1fr 1fr 1fr;
  margin-bottom: 1.5em;
}

.layout-mobile .detailSection {
  grid-template-columns: 1fr;
}

.detailPageContent {
  gap: 1em;
}

/* ── track selections ── */
.trackSelections {
  order: 3;
  max-width: unset !important;
  margin-top: 1em;
  border: var(--defaultBorder);
  border-radius: var(--smallRadius);
  padding: 1em;
  grid-column: 3 / 5;
  background-color: var(--lighterGradientPointAlpha);
}

.layout-mobile .trackSelections {
  margin-top: 0;
}

.layout-tv .trackSelections {
  order: 2;
}

.recordingFields {
  order: 4;
}

.recordingButton {
  gap: 1ch;
}

/* ── select / arrow labels ── */
.detailsGroupItem,
.trackSelections .selectContainer {
  max-width: unset !important;
  align-items: baseline;
}

.selectArrowContainer {
  top: 0;
  opacity: 0.5;
}

.trackSelectionFieldContainer > .selectArrowContainer {
  top: 0.5em;
}

.trackSelectionFieldContainer > label {
  max-width: 2.75em;
  background-repeat: no-repeat;
  color: transparent;
  transform: scale(0.9);
}

.selectVideoContainer.trackSelectionFieldContainer > label {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="%23d1d5db" viewBox="0 0 24 24"><g stroke-width="1.5"><path d="M2 12c0-4.7 0-7 1.5-8.5C4.9 2 7.3 2 12 2s7 0 8.5 1.5C22 4.9 22 7.3 22 12s0 7-1.5 8.5C19.1 22 16.7 22 12 22s-7 0-8.5-1.5C2 19.1 2 16.7 2 12Z"/><path stroke-linecap="round" d="M17 2.5v19M7 2.5v19M2.5 7H7m14.5 0H17M2.5 17H7m14.5 0H17M2 12h20"/></g></svg>');
}

.selectAudioContainer.trackSelectionFieldContainer > label {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="%23d1d5db" viewBox="0 0 24 24"><g stroke-width="1.5"><path d="M9 19a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM21 17a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM9 19V8M21 17V6"/><path stroke-linecap="round" d="m15.7 3.8-4 1.3c-1.3.4-2 .6-2.3 1.2C9 6.8 9 7.5 9 8.9V12l12-4v-.5c0-2.5 0-3.7-.8-4.3-.9-.6-2-.2-4.5.6Z"/></g></svg>');
}

.selectSubtitlesContainer.trackSelectionFieldContainer > label {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="%23d1d5db" viewBox="0 0 24 24"><g stroke-width="1.5"><path d="M2 12c0-3.8 0-5.7 1.2-6.8C4.3 4 6.2 4 10 4h4c3.8 0 5.7 0 6.8 1.2C22 6.3 22 8.2 22 12s0 5.7-1.2 6.8C19.7 20 17.8 20 14 20h-4c-3.8 0-5.7 0-6.8-1.2C2 17.7 2 15.8 2 12Z"/><path stroke-linecap="round" d="M10 16H6M14 13h4M14 16h-1.5M9.5 13h2M18 16h-1.5M6 13h1"/></g></svg>');
}

.selectSourceContainer.trackSelectionFieldContainer > label {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="%23d1d5db" d="m15.4 4.05-.5.56.5-.56Zm3.95 3.57-.5.55.5-.55Zm2.3 2.53-.68.3.68-.3ZM3.17 20.83l.53-.53-.53.53Zm17.66 0-.53-.53.53.53Zm-6.83.42h-4v1.5h4v-1.5ZM2.75 14v-4h-1.5v4h1.5Zm18.5-.44V14h1.5v-.44h-1.5Zm-6.36-8.95 3.96 3.56 1-1.11L15.9 3.5l-1 1.11Zm7.86 8.95c0-1.69.02-2.75-.41-3.71l-1.37.6c.26.6.28 1.3.28 3.11h1.5Zm-3.9-5.39c1.35 1.22 1.85 1.7 2.12 2.29l1.37-.61c-.43-.96-1.23-1.66-2.49-2.8l-1 1.12Zm-8.82-5.42c1.58 0 2.18.01 2.71.22l.54-1.4c-.85-.33-1.78-.32-3.25-.32v1.5Zm5.86.75c-1.08-.98-1.76-1.6-2.61-1.93l-.54 1.4c.53.2.98.59 2.15 1.64l1-1.11ZM10 21.25c-1.9 0-3.26 0-4.29-.14-1-.13-1.58-.39-2-.81l-1.07 1.06c.75.75 1.7 1.08 2.87 1.24 1.15.15 2.63.15 4.49.15v-1.5ZM1.25 14c0 1.86 0 3.34.15 4.49a4.71 4.71 0 0 0 1.24 2.87L3.7 20.3c-.42-.43-.67-1-.81-2.01A36 36 0 0 1 2.75 14h-1.5ZM14 22.75c1.86 0 3.34 0 4.49-.15a4.71 4.71 0 0 0 2.87-1.24L20.3 20.3c-.43.42-1 .68-2.01.81-1.03.14-2.38.14-4.29.14v1.5ZM21.25 14c0 1.9 0 3.26-.14 4.29-.13 1-.39 1.58-.81 2l1.06 1.07a4.71 4.71 0 0 0 1.24-2.87c.15-1.15.15-2.63.15-4.49h-1.5Zm-18.5-4c0-1.9 0-3.26.14-4.29.14-1 .39-1.58.81-2L2.64 2.63A4.71 4.71 0 0 0 1.4 5.51c-.15 1.15-.15 2.63-.15 4.49h1.5Zm7.28-8.75c-1.87 0-3.36 0-4.51.15a4.72 4.72 0 0 0-2.88 1.24L3.7 3.7c.42-.42 1-.67 2.02-.81 1.03-.14 2.4-.14 4.31-.14v-1.5Z"/><path stroke="%23d1d5db" stroke-width="1.5" d="M13 2.5V5c0 2.36 0 3.54.73 4.27.73.73 1.91.73 4.27.73h4"/></svg>');
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   DETAIL SECTION – content & details group
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.detailSectionContent a:not(.overview-expand) {
  text-align: start;
}

.layout-desktop .detailSectionContent {
  display: grid;
  align-content: end;
  min-height: 16vh;
}

.detailSectionContent:has(.tagline.hide + .overview.hide) {
  min-height: unset;
}

.itemDetailsGroup {
  outline: none;
  overflow: hidden;
  margin-top: 1em;
  border-radius: var(--smallRadius);
  background-color: var(--lighterGradientPointAlpha);
  border: none;
  box-shadow: inset 0 0 0 0.06em var(--borderColor) !important;
  order: 2;
  grid-column: 1 / 3;
}

.layout-mobile .itemDetailsGroup {
  margin-top: 0;
}

.detailsGroupItem {
  margin: 0 !important;
  justify-content: space-between;
  padding: 0.5em 0.9em;
  align-items: baseline;
}

.detailsGroupItem:not(:last-child) {
  border-bottom: var(--defaultBorder);
}

.detailsGroupItem > .label {
  font-weight: 600;
  flex-basis: 6em;
  color: var(--textColor);
}

.detailsGroupItem > .content {
  text-align: end;
  color: var(--dimTextColor);
}

.detailsGroupItem > .content > a {
  font-weight: 400;
  text-align: end;
}

.layout-tv .itemDetailsGroup {
  order: 2;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   DETAIL SECTION – grid placement & column spans
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.detailSection > .nextUpSection {
  order: 5;
  grid-column: 1;
}

.detailSection > #listChildrenCollapsible {
  order: 6;
  grid-column: 2 / -1;
}

.detailSectionContent {
  order: 1;
  grid-column: 1 / -1;
}

.nextUpSection.hide ~ #listChildrenCollapsible,
.trackSelections.hide ~ .recordingFields.hide ~ .itemDetailsGroup {
  grid-column: 1 / -1;
}

/* full-width on mobile / tv + collection & guide overrides */
.layout-mobile .trackSelections,
.layout-mobile .detailSectionContent,
.layout-mobile .itemDetailsGroup,
.layout-mobile .nextUpSection,
.layout-mobile .detailSection > #listChildrenCollapsible,
.layout-tv .trackSelections,
.layout-tv .detailSectionContent,
.layout-tv .itemDetailsGroup,
.layout-tv .nextUpSection,
.layout-tv .detailSection > #listChildrenCollapsible,
.collectionItems,
.programGuideSection {
  grid-column: 1 / -1;
}

.programGuideSection:not(.hide) {
  order: -1;
  margin-top: 2em;
}

.layout-desktop .programGuide {
  padding-right: var(--sidePadding);
}

.collectionItems .sectionTitleContainer.padded-left {
  padding-left: 0.375em;
}

.collectionItemsContainer.padded-left {
  padding-left: 0;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   ALPHA PICKER
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.sliderBubble {
  border-radius: var(--largeRadius);
  border: var(--defaultBorder);
  overflow: hidden;
  z-index: 3;
}

.alphaPickerButton {
  font-family: monospace;
  margin: 0.15em;
  color: rgba(255, 255, 255, 0.25);
}

.alphaPickerButton-selected {
  color: rgba(255, 255, 255, 1);
}

.alphaPicker-vertical {
  height: 70%;
}

.alphaPicker {
  justify-content: center;
}

.alphaPickerButton-tv {
  transition: transform 0.2s;
}

.alphaPickerButton-tv:focus {
  background-color: var(--highlightOutlineColor);
  transform: scale(1.75);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   PADDING UTILITIES
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.padded-right {
  padding-right: var(--sidePadding) !important;
}

.layout-mobile .padded-right-withalphapicker {
  padding-left: 4.5%;
  padding-right: 6.5%;
}

[dir="ltr"] .detailPageContent,
.content-primary {
  padding-left: var(--sidePadding) !important;
  padding-right: var(--sidePadding) !important;
}

[dir="ltr"] .detailPageContent > .detailPagePrimaryContent {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

#itemDetailPage .verticalSection .itemsContainer.padded-right {
  padding-right: 0 !important;
}

.listPaging > span {
  padding: 0 0.5em;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   PREFERENCES PAGE & USER BUTTON
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.layout-mobile #myPreferencesMenuPage {
  padding-top: 3.75em !important;
}

.headerUserButton {
  width: 2em;
  height: 2em;
  margin-inline-end: 1em;
  border: none;
}

.MuiAvatar-circular {
  width: 1.5em;
  height: 1.5em;
  border: none;
}

.dashboardDocument .content-primary {
  padding-top: 4.25rem;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   METADATA EDITOR
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.editorNode {
  display: flex;
  align-items: center;
}

.metadataSidebarIcon {
  color: #6c7bab;
}

.jstree-default .jstree-wholerow-clicked {
  background: var(--selectorBackgroundColor) !important;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   SECTION TITLE BUTTONS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.sectionTitleTextButton {
  padding: 0 0.5em;
}

/* bare :hover kept for touch; fine-pointer version in @media block */
.sectionTitleTextButton:hover {
  background: transparent !important;
}

.sectionTitleTextButton:active {
  color: white !important;
}

.sectionTitleContainer-cards {
  padding-top: 0;
  margin: 0.75em 0 -0.75em 0;
}

.sectionTitleTextButton > * {
  text-align: left;
  padding: 0.3em 0 !important;
  margin: 0 0 !important;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  max-width: 88vw;
}

.layout-mobile:not(.sectionTitleContainer-cards) > .sectionTitle-cards {
  margin: 0.75em 0 -0.75em 0;
}

.dashboardSection .sectionTitleTextButton > .material-icons,
.sectionTitleTextButton > .material-icons,
.dashboardSection .sectionTitleTextButton > .material-icons.material-icons {
  font-size: unset;
}

.sectionTitleTextButton > .material-icons::before {
  display: none;
}

.sectionTitleTextButton > .material-icons.chevron_right {
  margin-left: 0.5rem !important;
  height: 1.5rem;
  width: 1.5rem;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='1.5' stroke='%23D1D5DB' aria-hidden='true'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z'%3E%3C/path%3E%3C/svg%3E")
    no-repeat center center;
  background-size: contain;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   TOASTS & UP-NEXT
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.toast {
  border-radius: var(--smallRadius);
}

.toast,
.upNextContainer {
  background: var(--headerColor) !important;
  border: var(--defaultBorder) !important;
  backdrop-filter: var(--blurDefault);
}

.upNextContainer {
  border-radius: var(--largeRadius);
  color: var(--textColor);
}

[dir="ltr"] .upNextContainer {
  margin: 2em;
  box-sizing: border-box;
  max-width: 80vw;
}

.upNextContainer .btnStartNow {
  background-color: var(--btnSubmitColor);
  border-color: var(--btnSubmitBorderColor);
}

.upNextDialog-title {
  white-space: pre-wrap;
  width: unset;
}

.upNextDialog-buttons {
  width: unset;
  flex-wrap: wrap;
}

.upNextContainer .upNextDialog-countdownText {
  color: white;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   SKIP BUTTON
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.skip-button-container {
  bottom: 25%;
}

.skip-button {
  background-color: whitesmoke;
  box-shadow: var(--shadow);
  margin-right: var(--sidePadding);
  color: black;
}

.layout-tv .skip-button {
  margin-right: auto;
  margin-left: var(--sidePadding);
}

.skip-button:hover {
  background-color: white;
}

.skip-button:active {
  background-color: rgba(245, 245, 245, 0.7);
  box-shadow: none;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   SESSIONS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.activeSession {
  width: 98% !important;
}

.emby-tab-button:hover {
  color: whitesmoke;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   HOVER STATES – fine pointer only
   (consolidates all desktop-hover rules into one block)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
@media (hover: hover) and (pointer: fine) {
  .paper-icon-button-light:hover:not(:disabled) {
    color: #fff;
    background-color: rgb(255 255 255 / 5%);
  }

  .actionSheetMenuItem.emby-button:has(
      .listItemIcon.material-icons.check[style*="hidden"]
    ):hover {
    background-color: rgba(255, 255, 255, 0.125);
  }

  .emby-select-withcolor:hover:not(.emby-select[disabled], :focus),
  .emby-input:hover:not(:focus),
  .emby-textarea:hover:not(:focus) {
    border-color: var(--dimTextColor) !important;
  }

  .checkboxContainer:hover .checkboxOutline:not(.multiSelectCheckboxOutline) {
    border-color: var(--checkboxCheckedBgColor);
    border-width: var(--borderWidthDouble);
  }

  .button-flat:hover {
    background-color: rgba(255, 255, 255, 0.2);
    color: white;
  }

  .btnPlay.detailButton:hover {
    background-color: var(--textColor);
    color: black;
  }

  .alphaPickerButton:hover {
    color: rgba(255, 255, 255, 1);
  }

  .listItem:hover {
    background: rgba(255, 255, 255, 0.125);
    backdrop-filter: var(--blurLargest);
  }

  .navMenuOption:hover {
    background: rgba(255, 255, 255, 0.125);
  }

  .searchfields-icon:hover,
  .inputContainer .emby-input-iconbutton:hover {
    color: rgba(255, 255, 255, 0.8);
  }

  #scenesContent .cardScalable:hover {
    border-color: var(--dimTextColor) !important;
  }

  .sectionTitleTextButton:hover {
    background: transparent !important;
    color: white !important;
  }

  .button-link:hover {
    color: rgb(243, 243, 243) !important;
    text-decoration: none;
  }

  /* external link hover – just brighten the brand colour */
  .layout-desktop
    .itemExternalLinks.focuscontainer-x
    > a[href*="themoviedb.org"]:hover,
  .layout-desktop
    .itemExternalLinks.focuscontainer-x
    > a[href*="imdb.com"]:hover {
    filter: brightness(1.25);
  }

  .layout-desktop .itemExternalLinks.focuscontainer-x > a:hover {
    background-color: var(--activeColor) !important;
    color: white !important;
  }

  .layout-desktop
    .itemExternalLinks.focuscontainer-x
    > a[href*="thetvdb.com"]:hover {
    background-color: rgb(108, 213, 145) !important;
    color: black !important;
  }

  .layout-desktop
    .itemExternalLinks.focuscontainer-x
    > a[href*="trakt.tv"]:hover {
    background-color: rgb(171, 58, 173) !important;
    color: var(--textColor) !important;
  }

  .layout-desktop
    .itemExternalLinks.focuscontainer-x
    > a[href*="theaudiodb.com"]:hover {
    background-color: rgb(99, 153, 204) !important;
    color: rgb(15, 22, 28) !important;
  }

  .layout-desktop
    .itemExternalLinks.focuscontainer-x
    > a[href*="musicbrainz.org"]:hover {
    background-color: rgb(186, 71, 143) !important;
    color: var(--textColor) !important;
  }
}

.paper-icon-button-light:active:not(:disabled) {
  color: #fff;
  background-color: rgb(255 255 255 / 5%);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   INPUTS & SELECTS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.emby-textarea {
  font-family: consolas, monaco, monospace;
}

.customCssContainer textarea {
  max-height: 40vh;
  overflow-y: auto !important;
}

.emby-select-withcolor,
.emby-select {
  background-color: var(--selectorBackgroundColor);
  border: none;
  border-radius: var(--smallerRadius);
  padding: 0.5em !important;
}

.emby-input,
.emby-textarea {
  background-color: var(--selectorInputBackgroundColor);
  border: none;
  border-radius: var(--smallerRadius);
  padding: 0.5em !important;
}

.inputLabelFocused,
.selectLabelFocused,
.textareaLabelFocused {
  color: #fff;
}

/* focus – base rule (browsers that don't support revert) */
.emby-select-withcolor:focus,
.emby-input:focus,
.emby-textarea:focus {
  border-color: var(--highlightOutlineColor) !important;
  outline: none !important;
}

/* focus – enhanced outline for modern browsers */
@supports (display: revert) {
  .emby-select-withcolor:focus,
  .emby-input:focus,
  .emby-textarea:focus {
    border-color: var(--highlightOutlineColor) !important;
    outline: thin solid var(--highlightOutlineColor) !important;
  }
}

.emby-select-withcolor > option {
  color: inherit;
  background-color: #10100f;
}

/* ── icon buttons inside inputs ── */
.inputContainer .emby-input-iconbutton {
  color: rgba(255, 255, 255, 0.5);
  margin-left: -2.5em;
  background-color: transparent !important;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   SEARCH
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.searchfields-txtSearch {
  padding: 0.75em 1.5em !important;
  border-radius: 4em;
}

.searchfields-icon {
  padding: 0.25em;
  margin-left: -1.75em;
  margin-bottom: 0;
  border-radius: var(--largeRadius);
  color: rgba(255, 255, 255, 0.5);
}

.searchfields-icon:active,
.inputContainer .emby-input-iconbutton:active {
  color: rgba(255, 255, 255, 0.8);
}

.searchFields > .searchFieldsInner {
  flex-direction: row-reverse;
}

/* hide the magnifying-glass icon (aria-hidden, decorative only) */
span.searchfields-icon.search[aria-hidden="true"] {
  display: none !important;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   NAMES & TITLES
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.nameContainer > h3,
.nameContainer > h1 {
  word-break: break-word;
  overflow: hidden;
}

.nameContainer > h1.itemName,
.nameContainer > h1.parentName {
  font-size: 4em;
  white-space: pre-wrap;
  padding-bottom: 0.5ch;
  color: white;
  font-weight: 200;
}

.nameContainer > h1.itemName a,
.nameContainer > h1.parentName a {
  font-weight: 200;
}

.nameContainer > h1.itemName bdi,
.nameContainer > h1.parentName bdi,
.nameContainer > h1.itemName a,
.nameContainer > h1.parentName a {
  overflow: hidden;
  display: -webkit-box !important;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
}

.layout-mobile .nameContainer > h1.itemName,
.layout-mobile .nameContainer > h1.parentName,
.layout-mobile .nameContainer > h1.parentNameLast {
  font-size: 2em;
  word-wrap: break-word;
  padding-bottom: 0;
}

.subtitle {
  font-size: 2em;
  padding-bottom: 1em;
}

.layout-mobile .subtitle {
  font-size: 1.5em;
  padding-bottom: 0.5em;
}

.itemName.originalTitle {
  padding-top: 0.25em;
  padding-bottom: 0.25em;
  color: var(--dimTextColor);
  display: var(--itemOriginalTitleVisibility);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   PROGRAM GUIDE
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.channelPrograms,
.programCell {
  border-color: transparent;
  background-color: transparent !important;
  border-radius: var(--smallRadius);
  height: 4.42em;
}

.guideProgramName {
  background-color: rgba(255, 255, 255, 0.05);
  height: calc(100% - 0.7em);
  margin: 0.35em 0 0.35em 0.7em;
  border-radius: var(--smallerRadius);
}

.guide-programNameCaret {
  display: none;
}

.programCell-active .guideProgramName {
  background-color: rgba(255, 255, 255, 0.125);
}

.guideVerticalScroller {
  padding: 0;
}

.layout-mobile .guideChannelImage {
  background-position: center;
  width: calc(100% - var(--sidePadding));
  right: 0;
}

.guide-channelHeaderCell {
  background-color: rgba(255, 255, 255, 0.125);
  margin: 0.35em 0.7em 0.7em 0.7em;
  width: auto;
  height: calc(4.42em - 0.7em);
  border-radius: var(--smallRadius);
}

.guideChannelNumber {
  font-size: 1em;
}

#guideTab {
  padding-top: 3em !important;
}

.guide-channelHeaderCell:focus {
  background-color: var(--highlightOutlineColor) !important;
}

.programCell:focus {
  background-color: transparent !important;
}

.programCell:focus > .guideProgramName {
  background-color: var(--highlightOutlineColor);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   MISC CONTROLS & FIELDSETS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.emby-select-iconbutton {
  background-color: var(--selectorBackgroundColor);
  border: var(--defaultLighterBorder);
  border-radius: var(--smallRadius);
  margin-inline-start: 1em;
}

.subtitleappearance-preview {
  border-radius: var(--smallRadius);
}

.infoBanner {
  display: flex;
  place-content: center;
  background-color: var(--headerColor) !important;
  border-radius: var(--largeRadius) !important;
  border: var(--defaultBorder) !important;
}

.sliderBubbleText {
  font-size: 1.5em;
}

fieldset {
  border-radius: var(--smallRadius);
  border: var(--defaultBorder);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   TABLES
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
table:not(.MuiTable-root.MuiTable-stickyHeader) {
  border-color: var(--borderColor) !important;
  border-radius: var(--smallRadius);
  border-spacing: 1px;
  border: var(--defaultBorder);
  background: var(--tableBodyColor);
  border-collapse: separate;
  overflow: hidden;
}

.detailTableHeaderCell {
  vertical-align: middle;
}

#serverActivityPage .MuiPaper-elevation2 {
  border: var(--defaultBorder) !important;
  box-shadow: unset !important;
}

#serverActivityPage .MuiPaper-elevation2,
#serverActivityPage .MuiPaper-elevation2 > .MuiBox-root,
#serverActivityPage .MuiTableRow-root.MuiTableRow-head {
  background-color: var(--tableBodyColor);
}

.detailTableBodyRow-shaded:nth-child(odd),
#serverActivityPage .MuiTableBody-root .MuiTableRow-root:nth-child(odd) {
  background: var(--darkerGradientPointAlpha) !important;
}

.detailTableBodyRow-shaded:nth-child(even),
#serverActivityPage .MuiTableBody-root .MuiTableRow-root:nth-child(even) {
  background: var(--lighterGradientPointAlpha) !important;
}

.MuiList-root.MuiMenu-list {
  background-color: var(--drawerColor);
}

ul.MuiList-root.MuiMenu-list.MuiList-dense > div:first-child {
  gap: 0.5rem;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   PLAYER STATS & OSD ICON
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.playerStats,
.iconOsd {
  border-radius: var(--largeRadius);
  background-color: rgba(69, 69, 69, 0.69);
  backdrop-filter: var(--blurDefault);
}

.playerStats-stats {
  max-height: 50vh;
  flex-wrap: wrap;
  overflow-x: auto;
  padding: 1em !important;
}

#scenesContent .cardScalable:active {
  border-color: var(--dimTextColor) !important;
}

.progressring-spiner {
  border-color: var(--uiAccentColor);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   HEADER – skin / OSD / blur layers
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.skinHeader.focuscontainer-x.skinHeader-withBackground.skinHeader-blurred.semiTransparent.noHeaderRight {
  display: none;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   LOGIN PAGE
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
#loginPage {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 1em;
  overflow-y: auto;
  background: linear-gradient(
      to bottom,
      var(--darkerGradientPointAlpha),
      var(--lighterGradientPoint)
    ),
    var(--loginPageBgUrl);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  box-sizing: border-box;
}

#loginPage .padded-left.padded-right.padded-bottom-page {
  width: 28em;
  background: rgba(0, 0, 0, 0);
  padding: 2em 2em 0em 2em !important;
  border-radius: var(--smallerRadius);
  backdrop-filter: var(--blurDefault);
  box-sizing: border-box;
  transform: none;
}

/* titles hidden via JS-toggled visibility; ::before kept for potential future use */
.manualLoginForm .sectionTitle,
.visualLoginForm > h1 {
  display: none;
}

#loginPage
  .padded-left.padded-right.padded-bottom-page:has(
    .visualLoginForm:not(.hide)
  ) {
  width: 40em;
}

#divUsers .squareCard {
  width: 30% !important;
}

.layout-mobile #divUsers .squareCard {
  width: 45% !important;
}

.manualLoginForm::before,
.visualLoginForm::before {
  content: var(--loginPageText);
  position: relative;
  display: none;
  top: -3.5em;
  margin-bottom: -1em;
  font-size: 1.875em;
  font-weight: 800;
  color: white;
  text-align: center;
}

.manualLoginForm,
.visualLoginForm {
  position: relative;
}

#quickConnectPreferencesPage .padded-left.padded-right.padded-bottom-page {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

#txtLoginDisclaimer {
  resize: none;
}

.loginDisclaimer {
  color: #81818166;
  font-size: 0.8em;
}

/* hide "forgot password" button */
#loginPage .raised.cancel.block.btnForgotPassword.emby-button {
  display: none;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   TIME DISPLAYS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.startTimeText,
.endTimeText,
.positionTime,
.runtime {
  width: 4.5em;
  box-sizing: border-box;
}

.startTimeText {
  margin: 0 !important;
}

.endTimeText {
  justify-content: right;
  padding-inline-end: 0.8em;
  margin: 0 0 0 0.75em !important;
}

.startTimeText,
.endTimeText {
  padding-top: 0.25em;
}

.startTimeText,
.positionTime {
  text-align: start;
  justify-content: left;
}

.endTimeText,
.runtime {
  text-align: end;
  justify-content: right;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   FILTER INDICATOR
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.filterIndicator {
  background: var(--activeColor);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   LIBRARY CARDS (CollectionFolder / UserView)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.overflowBackdropCard[data-type="CollectionFolder"]
  .cardPadder-overflowBackdrop,
.overflowBackdropCard[data-type="UserView"] .cardPadder-overflowBackdrop {
  padding-bottom: 50%;
}

.overflowBackdropCard[data-type="CollectionFolder"] .cardText-first,
.overflowBackdropCard[data-type="UserView"] .cardText-first {
  display: var(--libraryLabelVisibility);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   NOW PLAYING
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.nowPlayingButtonsContainer {
  margin-top: 1em;
}

.nowPlayingPageImageContainerNoAlbum {
  border: var(--defaultBorder);
  border-radius: var(--smallRadius);
  overflow: hidden;
}

.nowPlayingPageImageContainerNoAlbum .defaultCardBackground {
  background: repeating-radial-gradient(black, transparent 10em);
}

.nowPlayingPageImageContainerNoAlbum .cardImageContainer .cardImageIcon {
  color: var(--borderColor);
}

/* ── mobile playlist panel ── */
.layout-mobile .playlistSection .playlist {
  padding: 4.3em 0;
  top: 0;
  bottom: 4.3em;
  background: var(--headerColor);
  backdrop-filter: var(--blurLargest);
  z-index: 0;
}

.layout-mobile .playlistSectionButton {
  background: var(--drawerColor);
  border-top: var(--defaultBorder);
  backdrop-filter: var(--blurSmallest);
  z-index: 1;
}

.layout-mobile .playlistSectionButton.playlistSectionButtonTransparent {
  background: transparent;
  border-top: var(--defaultBorder);
  border-color: transparent;
}

/* ── desktop now-playing info container ── */
.layout-desktop .nowPlayingInfoContainer {
  position: sticky;
  top: 5em;
  padding: 1em;
  margin-bottom: 2em;
  backdrop-filter: var(--blurLargest);
  border: var(--defaultLighterBorder);
  z-index: 2;
  background-color: var(--headerColor);
  box-shadow: var(--shadow);
  border-radius: var(--largerRadius);
  box-sizing: border-box;
}

.layout-desktop .nowPlayingInfoControls {
  margin: 0 2em;
}

.nowPlayingPageImage {
  box-shadow: var(--shadow);
  border-radius: var(--smallRadius);
  object-fit: cover;
  aspect-ratio: 1 / 1;
}

/* ── now-playing bar ── */
.nowPlayingBar .nowPlayingImage {
  background-size: cover;
  border-radius: var(--smallerRadius);
  height: 3.5em;
  margin: 0.25em;
  width: 3.5em;
}

.nowPlayingBarPositionContainer {
  top: -0.7em;
}

@media (orientation: portrait) and (max-width: 43em) {
  .nowPlayingPageImageContainerNoAlbum .cardImageContainer .cardImageIcon {
    font-size: 8em !important;
  }
  .nowPlayingInfoContainer {
    height: calc(95% - 4.2em);
  }
}

/* ── now-playing text ── */
.nowPlayingSongName.nowPlayingEpisode {
  margin-bottom: 1em;
  font-size: 1.25em;
  color: var(--textColor);
}

.nowPlayingAlbum.nowPlayingSeason {
  color: var(--dimTextColor);
  margin-bottom: 0.5em;
}

.nowPlayingArtist.nowPlayingSerie {
  margin-bottom: 0.5em;
}

/* ── playlist indicator ── */
.playlistIndexIndicatorImage {
  background-blend-mode: difference;
  background-color: var(--textColor);
  background-size: contain !important;
}

.playlistIndexIndicatorImage.defaultCardBackground .audiotrack {
  display: none;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   TABLE OF CONTENTS (book reader)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
#dialogToc {
  background-color: rgba(0, 0, 0, 0.5);
  max-height: unset;
  max-width: unset;
}

#dialogToc .toc li {
  font-size: unset;
  font-weight: 600;
  list-style-type: circle;
  margin-bottom: 0.5em;
  font-family: "Math", serif;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   MUI TABS & TOGGLE BUTTONS
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.MuiTabs-indicator {
  display: none;
}

.MuiTabs-root > .MuiTabs-scroller {
  align-content: center;
}

.MuiTabs-flexContainer > .MuiButtonBase-root {
  border-radius: var(--largeRadius);
  min-height: 40px;
  min-width: 72px;
}

.MuiTabs-flexContainer > .MuiButtonBase-root.Mui-selected {
  color: white;
  background-color: transparent !important;
}

.MuiToggleButtonGroup-grouped.Mui-selected {
  color: white;
}

.MuiButtonBase-root.MuiIconButton-root:hover {
  color: white;
  background-color: transparent;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   VIEW PANEL & VIDEO OSD
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
#viewPanel .ui-panel-inner {
  margin-top: 4em;
}

.videoOsdBottom.videoOsdBottom-maincontrols {
  background: var(--bottomOSDGradient);
}

.skinHeader-withBackground.osdHeader {
  background: var(--topOSDGradient);
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   HEADROOM (sticky header)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.headroom {
  transition: transform 0.5s;
}

.skinHeader-blurred:not(.osdHeader):not(.semiTransparent) {
  backdrop-filter: var(--blurLarge);
  background: var(--headerColor);
  border: var(--defaultBorder);
  border-width: 0 0 var(--borderWidth) 0;
}

.layout-mobile .skinHeader-blurred:not(.osdHeader),
.layout-mobile .withSectionTabs .headerTop {
  padding: 0;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   SECTION TABS (secondary nav bar)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.sectionTabs {
  display: inline-grid;
  height: var(--appBarHeight);
}

.layout-mobile .sectionTabs {
  align-content: center;
}

.skinHeader-withBackground.semiTransparent {
  --headerBackground: none;
  backdrop-filter: none;
  background-color: transparent;
  border: none;
}

.skinHeader.headroom:not(.osdHeader, .noHomeButtonHeader):has(
    .pageTitle:empty
  )::after,
.skinHeader.headroom:not(.osdHeader, .noHomeButtonHeader):has(
    .pageTitle:empty
  ) {
  --headerBackground: none;
  backdrop-filter: none;
  background-color: transparent;
  border: none;
}

.skinHeader-withBackground.semiTransparent .headerButton,
.skinHeader.headroom:not(.osdHeader, .noHomeButtonHeader):has(.pageTitle:empty)
  .headerButton {
  text-shadow: 1px 1px 0 #00000080;
}

.headerTop {
  align-items: center;
  padding: 0;
  height: var(--appBarHeight);
}

.osdHeader .headerTop {
  max-height: var(--appBarHeight);
}

.layout-desktop .headerTop {
  padding: 0 1em;
}

.layout-tv .headerTop {
  padding: 0 0.5em;
}

.headroom--unpinned {
  transform: translateY(calc(-1 * var(--appBarHeight) - var(--borderWidth)));
}

/* ── tab button icons (noHomeButtonHeader) ── */
.noHomeButtonHeader .emby-tab-button[data-index="1"]:before {
  content: "\e87d";
}

.noHomeButtonHeader .emby-tab-button[data-index="0"]:before {
  content: "\e88a";
}

.noHomeButtonHeader .emby-tab-button:before {
  font-family: "Material Icons Round";
  padding-inline-end: 0.5ch;
  font-size: 1.2em;
  font-variation-settings: "FILL" 0;
}

.layout-tv .sectionTabs .emby-tabs.smoothScrollX {
  overflow: visible !important;
}

.sectionTabs .emby-tab-button {
  display: inline-flex;
  margin: 0.25em 0.5em;
  padding: 0 1.25em;
  height: 2.5em;
  color: var(--textColor);
  font-weight: 400;
  border-radius: var(--largeRadius);
  background-color: var(--darkerGradientPointAlpha);
}

.sectionTabs .emby-tab-button-active {
  margin: 0.25em 0.5em;
  color: black;
  background-color: var(--textColor);
}

/* ── library page top padding ── */
.libraryPage:not(.noSecondaryNavPage) {
  padding-top: calc(var(--appBarHeight) * 2 + 0.5em) !important;
}

@media (min-width: 75em) {
  .sectionTabs {
    align-items: center;
    align-self: center;
    justify-content: center;
    margin-top: calc(-1 * var(--appBarHeight));
    position: relative;
    width: auto;
  }
  .libraryPage:not(.noSecondaryNavPage) {
    padding-top: calc(var(--appBarHeight) + 0.5em) !important;
  }
  .headroom--unpinned {
    transform: translateY(0);
  }
}

@media (min-width: 100em) {
  .layout-tv .libraryPage:not(.noSecondaryNavPage) {
    padding-top: calc(var(--appBarHeight) + 0.5em) !important;
  }
}

@media (max-width: 100em) {
  .sectionTabs {
    font-size: 100%;
  }
  .layout-tv .sectionTabs {
    margin-top: unset;
  }
  .layout-tv .libraryPage:not(.noSecondaryNavPage) {
    padding-top: calc(var(--appBarHeight) * 2 + 0.5em) !important;
  }
}

@media (max-width: 75em) {
  .layout-mobile .sectionTabs .emby-tab-button:first-child {
    margin-left: var(--sidePadding);
  }
  .layout-mobile .sectionTabs .emby-tab-button:last-child {
    margin-right: var(--sidePadding);
  }
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   TV LAYOUT – focus & animation overrides
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.layout-tv .headerLeft {
  overflow: unset;
  margin: 0 0.6em;
}

.layout-tv .show-focus:focus,
.layout-tv .show-animation:focus,
.emby-select-focusscale:focus {
  transform: none !important;
}

.layout-tv .focuscontainer,
.layout-tv .backdropImage {
  animation-duration: 0s !important;
  backdrop-filter: none;
}

.card.show-animation .cardBox {
  transition: transform 0.05s ease-out;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   CONTAINER QUERY – header blur layer
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
#reactRoot > div:nth-child(3) {
  container-name: skinHeader;
  container-type: size;
  height: var(--appBarHeight);
}

@container skinHeader (min-height: 4.9em) {
  .skinHeader-blurred:not(.osdHeader):not(.semiTransparent) {
    backdrop-filter: none;
    background-color: transparent;
    border: none;
    background: var(--headerBackground);
    padding: 0;
  }

  .skinHeader-blurred:not(.osdHeader):not(.semiTransparent)::after {
    content: var(--headerBlurLayerVisibility);
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    backdrop-filter: var(--blurLargest);
    -webkit-mask: var(--headerBlurMask);
    mask: var(--headerBlurMask);
    z-index: -1;
  }

  .sectionTabs {
    padding-bottom: 1.5em;
  }

  .layout-mobile .sectionTabs {
    align-content: center;
  }
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   NOW PLAYING PAGE & REMOTE CONTROL
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
.nowPlayingPage {
  background: linear-gradient(var(--darkerGradientPointAlpha), transparent);
}

.remoteControlContent {
  padding: 0 var(--sidePadding) !important;
  background: linear-gradient(
    transparent,
    var(--darkerGradientPointAlpha) 20em
  );
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   SLIDES (home carousel)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
#slides-container {
  top: calc(-0.5 * var(--appBarHeight));
}

.backdrop-overlay {
  background: linear-gradient(
    var(--lighterGradientPoint),
    var(--gradientPointAlpha),
    60%,
    var(--darkerGradientPointAlpha)
  );
}

.plot {
  color: var(--textColor);
  text-shadow: 1px 1px var(--lighterGradientPointAlpha);
}

.button-container {
  align-items: center;
}

.favorite-button {
  background: none;
  color: var(--textColor);
}

.detail-button:hover,
.favorite-button:hover {
  background: var(--dimTextColor);
  color: black;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   HOME PAGE – section grid overrides
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */
/* remove "My Media" section title */
.section0 .sectionTitle {
  display: none;
}

/* section0 arrows hidden unconditionally */
.verticalSection.section0 .emby-scrollbuttons {
  display: none !important;
}

@media (min-width: 80em) {
  .homePage .emby-scrollbuttons,
  .homePage .emby-scrollbuttons-button {
    display: none !important;
  }
  .homePage .emby-scroller-container,
  .homePage .emby-scroller {
    overflow: hidden !important;
  }

  .section0 .itemsContainer {
    width: 100% !important;
    max-width: 100% !important;
    margin: auto !important;
    padding: 0 !important;
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(50px, 1fr)) !important;
    gap: var(--itemColumnGap) !important;
  }
  .section0 .itemsContainer > .card {
    width: 100% !important;
    box-sizing: border-box !important;
    min-width: 200px !important;
  }

  .section1 .itemsContainer {
    display: grid !important;
    grid-template-columns: repeat(6, minmax(50px, 1fr)) !important;
    gap: var(--itemColumnGap) !important;
    width: 100% !important;
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 auto !important;
  }
  .section1 .itemsContainer > .card {
    width: 100% !important;
    box-sizing: border-box !important;
  }

  .section6 .itemsContainer {
    display: grid !important;
    grid-template-columns: repeat(8, minmax(50px, 1fr)) !important;
    gap: var(--itemColumnGap) !important;
    width: 100% !important;
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 auto !important;
  }
  .section6 .itemsContainer > .card {
    width: 100% !important;
    box-sizing: border-box !important;
  }
}
